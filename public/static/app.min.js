const{useState:useState,useMemo:useMemo,useEffect:useEffect,useCallback:useCallback,createElement:h}=React,AIHealer={errors:[],fixes:[],isEnabled:!0,maxErrors:100,userActions:[],performanceMetrics:[],knownFixes:{"Cannot read properties of undefined":{pattern:/Cannot read propert(y|ies) of (undefined|null).*'(\w+)'/,fix:(e,t)=>({suggestion:`–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É: if (obj?.${e[3]})`,autoFix:!0,severity:"high"})},"is not a function":{pattern:/(\w+) is not a function/,fix:e=>({suggestion:`–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ ${e[1]} –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è`,autoFix:!1,severity:"high"})},"Invalid hook call":{pattern:/Invalid hook call/,fix:()=>({suggestion:"Hooks –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",autoFix:!1,severity:"critical"})},"Rendered more hooks":{pattern:/Rendered (more|fewer) hooks than during the previous render/,fix:()=>({suggestion:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—É–∫–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤—Å–µ useState/useMemo –≤ –Ω–∞—á–∞–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.",autoFix:!1,severity:"critical"})},"Failed to fetch":{pattern:/Failed to fetch|NetworkError|net::ERR/,fix:()=>({suggestion:"–ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API.",autoFix:!1,severity:"medium"})},"JSON.parse":{pattern:/JSON\.parse|Unexpected token|SyntaxError.*JSON/,fix:()=>({suggestion:"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON. –î–∞–Ω–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.",autoFix:!1,severity:"medium"})},"Failed to load":{pattern:/Failed to load|404|403|500/,fix:e=>({suggestion:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ—Å—É—Ä—Å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞ –∏–ª–∏ API.",autoFix:!1,severity:"high",actions:["–ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL","–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞","–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É"]})},"Memory leak":{pattern:/Memory.*leak|Too many.*created/,fix:()=>({suggestion:"–í–æ–∑–º–æ–∂–Ω–∞ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ø–∏—Å–∫–∏ –æ—Ç —Å–æ–±—ã—Ç–∏–π –∏ –æ—á–∏—Å—Ç–∫—É useEffect.",autoFix:!1,severity:"critical",actions:["–î–æ–±–∞–≤–∏—Ç—å cleanup —Ñ—É–Ω–∫—Ü–∏–∏","–ü—Ä–æ–≤–µ—Ä–∏—Ç—å useEffect –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"]})}},trackAction(e,t={}){const a={id:Date.now()+Math.random().toString(36).substr(2,9),timestamp:(new Date).toISOString(),action:e,data:t,context:{url:window.location.href,previousAction:this.userActions[0]?.action||"none"}};this.userActions.unshift(a),this.userActions.length>50&&this.userActions.pop()},trackPerformance(e,t){this.performanceMetrics.unshift({metric:e,value:t,timestamp:(new Date).toISOString()}),this.performanceMetrics.length>100&&this.performanceMetrics.pop()},getSmartSuggestions(){const e=[],t={};this.errors.forEach(e=>{const a=e.message.substring(0,50);t[a]=(t[a]||0)+1}),Object.entries(t).forEach(([t,a])=>{a>=3&&e.push({type:"frequent",severity:"high",message:`–ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –æ—à–∏–±–∫–∞ (${a}x): ${t}`,action:"–¢—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è"})});const a=this.errors.filter(e=>"critical"===e.fix?.severity);a.length>0&&e.push({type:"critical",severity:"critical",message:`–ù–∞–π–¥–µ–Ω–æ ${a.length} –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫`,action:"–ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å"});return this.performanceMetrics.filter(e=>e.value>3e3).length>5&&e.push({type:"performance",severity:"medium",message:"–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é",action:"–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"}),e},exportReport(){const e={generatedAt:(new Date).toISOString(),appVersion:"7.5",stats:this.getStats(),errors:this.errors.slice(0,20),userActions:this.userActions.slice(0,20),performanceMetrics:this.performanceMetrics.slice(0,20),suggestions:this.getSmartSuggestions(),browser:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,online:navigator.onLine}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),s=document.createElement("a");return s.href=a,s.download=`nexx-error-report-${Date.now()}.json`,s.click(),URL.revokeObjectURL(a),e},log(e,t={}){if(!this.isEnabled)return;const a={id:Date.now()+Math.random().toString(36).substr(2,9),timestamp:(new Date).toISOString(),message:e.message||String(e),stack:e.stack,context:{component:t.component||"Unknown",action:t.action||"Unknown",data:t.data?JSON.stringify(t.data).substring(0,500):null,url:window.location.href,userAgent:navigator.userAgent},fix:null,fixed:!1};return a.fix=this.findFix(a.message),this.errors.unshift(a),this.errors.length>this.maxErrors&&this.errors.pop(),console.group("%cü§ñ AI Healer: Error Detected","background: #ff4444; color: white; padding: 4px 8px; border-radius: 4px;"),console.log("%cMessage:","font-weight: bold;",a.message),console.log("%cComponent:","font-weight: bold;",a.context.component),console.log("%cAction:","font-weight: bold;",a.context.action),a.fix&&(console.log("%cüí° Suggestion:","color: #4CAF50; font-weight: bold;",a.fix.suggestion),console.log("%cSeverity:","font-weight: bold;",a.fix.severity)),console.log("%cStack:","color: #999;",a.stack),console.groupEnd(),this.saveToStorage(),a},findFix(e){for(const[t,a]of Object.entries(this.knownFixes)){const s=e.match(a.pattern);if(s)return{name:t,...a.fix(s)}}return null},saveToStorage(){try{localStorage.setItem("nexx_ai_healer_errors",JSON.stringify(this.errors.slice(0,20)))}catch(e){}},loadFromStorage(){try{const e=localStorage.getItem("nexx_ai_healer_errors");e&&(this.errors=JSON.parse(e))}catch(e){}},getStats(){const e={total:this.errors.length,byComponent:{},bySeverity:{critical:0,high:0,medium:0,low:0},recent:this.errors.slice(0,5)};return this.errors.forEach(t=>{const a=t.context.component;e.byComponent[a]=(e.byComponent[a]||0)+1,t.fix&&(e.bySeverity[t.fix.severity]=(e.bySeverity[t.fix.severity]||0)+1)}),e},clear(){this.errors=[],this.saveToStorage()},safe(e,t={}){return(...a)=>{try{return e(...a)}catch(e){return this.log(e,t),void 0!==t.fallback?t.fallback:null}}},wrapComponent(e,t){return a=>{try{return e(a)}catch(e){return this.log(e,{component:t,action:"render",data:a}),h("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl"},h("p",{className:"text-red-600 font-semibold"},`‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ: ${t}`),h("p",{className:"text-sm text-red-500 mt-1"},e.message),this.findFix(e.message)&&h("p",{className:"text-sm text-green-600 mt-2"},"üí° "+this.findFix(e.message).suggestion))}}}};AIHealer.loadFromStorage(),window.onerror=function(e,t,a,s,l){return AIHealer.log(l||new Error(e),{component:"Global",action:"window.onerror",data:{source:t,lineno:a,colno:s}}),!1},window.onunhandledrejection=function(e){AIHealer.log(e.reason||new Error("Unhandled Promise Rejection"),{component:"Global",action:"unhandledrejection"})},window.AIHealer=AIHealer;const useErrorBoundary=e=>{const[t,a]=useState(null);return{error:t,resetError:useCallback(()=>a(null),[]),captureError:useCallback((t,s={})=>{AIHealer.log(t,{component:e,...s}),a(t)},[e])}},safeGet=(e,t,a=null)=>{try{const s=t.split(".");let l=e;for(const e of s){if(null==l)return a;l=l[e]}return l??a}catch(e){return a}},safeCall=(e,t=[],a=null)=>{try{return e(...t)}catch(t){return AIHealer.log(t,{action:"safeCall",data:{fnName:e.name}}),a}},safeMap=(e,t,a=[])=>{if(!Array.isArray(e))return a;try{return e.map(t)}catch(e){return AIHealer.log(e,{action:"safeMap"}),a}},AIHealerPanel=({onClose:e})=>{const[t,a]=useState(AIHealer.getStats()),[s,l]=useState("all"),[r,o]=useState("errors"),[n,i]=useState(AIHealer.getSmartSuggestions());useEffect(()=>{const e=setInterval(()=>{a(AIHealer.getStats()),i(AIHealer.getSmartSuggestions())},2e3);return()=>clearInterval(e)},[]);const c="all"===s?AIHealer.errors:AIHealer.errors.filter(e=>e.fix?.severity===s);return h("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 backdrop-blur-sm"},h("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col"},h("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 p-5 text-white"},h("div",{className:"flex justify-between items-center"},h("div",null,h("h2",{className:"text-2xl font-bold flex items-center gap-2"},"ü§ñ AI Healer v2.0 - –£–º–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"),h("p",{className:"text-white/90 text-sm mt-1"},`–û—Ç—Å–ª–µ–∂–µ–Ω–æ: ${t.total} –æ—à–∏–±–æ–∫ ‚Ä¢ ${AIHealer.userActions.length} –¥–µ–π—Å—Ç–≤–∏–π ‚Ä¢ ${n.length} —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π`)),h("div",{className:"flex gap-2"},h("button",{onClick:()=>{AIHealer.exportReport()},className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all flex items-center gap-2"},"üì• –≠–∫—Å–ø–æ—Ä—Ç"),h("button",{onClick:()=>{AIHealer.clear(),a(AIHealer.getStats())},className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium"},"üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å"),h("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-lg"},"‚úï")))),h("div",{className:"p-4 bg-gradient-to-br from-slate-50 to-slate-100 border-b grid grid-cols-2 sm:grid-cols-4 gap-3"},h("div",{className:"p-4 bg-white rounded-xl shadow-sm border-2 border-red-200 text-center hover:scale-105 transition-transform"},h("p",{className:"text-3xl font-black text-red-600"},t.bySeverity.critical||0),h("p",{className:"text-xs font-bold text-red-500 mt-1"},"CRITICAL"),h("div",{className:"mt-2 h-1 bg-red-200 rounded-full overflow-hidden"},h("div",{className:"h-full bg-red-500",style:{width:`${Math.min(t.bySeverity.critical/t.total*100,100)}%`}}))),h("div",{className:"p-4 bg-white rounded-xl shadow-sm border-2 border-orange-200 text-center hover:scale-105 transition-transform"},h("p",{className:"text-3xl font-black text-orange-600"},t.bySeverity.high||0),h("p",{className:"text-xs font-bold text-orange-500 mt-1"},"HIGH"),h("div",{className:"mt-2 h-1 bg-orange-200 rounded-full overflow-hidden"},h("div",{className:"h-full bg-orange-500",style:{width:`${Math.min(t.bySeverity.high/t.total*100,100)}%`}}))),h("div",{className:"p-4 bg-white rounded-xl shadow-sm border-2 border-yellow-200 text-center hover:scale-105 transition-transform"},h("p",{className:"text-3xl font-black text-yellow-600"},t.bySeverity.medium||0),h("p",{className:"text-xs font-bold text-yellow-500 mt-1"},"MEDIUM"),h("div",{className:"mt-2 h-1 bg-yellow-200 rounded-full overflow-hidden"},h("div",{className:"h-full bg-yellow-500",style:{width:`${Math.min(t.bySeverity.medium/t.total*100,100)}%`}}))),h("div",{className:"p-4 bg-white rounded-xl shadow-sm border-2 border-green-200 text-center hover:scale-105 transition-transform"},h("p",{className:"text-3xl font-black text-green-600"},AIHealer.userActions.length),h("p",{className:"text-xs font-bold text-green-500 mt-1"},"ACTIONS"),h("div",{className:"mt-2 h-1 bg-green-200 rounded-full"},h("div",{className:"h-full bg-green-500 animate-pulse",style:{width:"75%"}})))),h("div",{className:"flex bg-white border-b overflow-x-auto"},...["errors","suggestions","performance","actions"].map(e=>h("button",{key:e,onClick:()=>o(e),className:"px-6 py-3 text-sm font-bold transition-all border-b-2 whitespace-nowrap "+(r===e?"text-purple-600 border-purple-600 bg-purple-50":"text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-50")},"errors"===e?`‚ùå –û—à–∏–±–∫–∏ (${t.total})`:"suggestions"===e?`üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (${n.length})`:"performance"===e?"‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å":`üìä –î–µ–π—Å—Ç–≤–∏—è (${AIHealer.userActions.length})`))),h("div",{className:"flex-1 overflow-y-auto p-4"},"errors"===r&&h("div",null,h("div",{className:"mb-4 flex flex-wrap gap-2"},...["all","critical","high","medium"].map(e=>h("button",{key:e,onClick:()=>l(e),className:"px-4 py-2 rounded-lg text-sm font-bold uppercase tracking-wide transition-all "+(s===e?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200")},"all"===e?"üîç –í—Å–µ":"critical"===e?"üî¥ Critical":"high"===e?"üü† High":"üü° Medium"))),h("div",{className:"space-y-3"},0===c.length?h("div",{className:"text-center py-16 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl"},h("p",{className:"text-6xl mb-4 animate-bounce"},"‚úÖ"),h("p",{className:"text-xl font-bold text-green-600"},"–û—Ç–ª–∏—á–Ω–æ!"),h("p",{className:"text-slate-500 mt-2"},"–û—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.")):c.map(e=>h("div",{key:e.id,className:"p-5 rounded-xl border-2 shadow-sm hover:shadow-md transition-all "+("critical"===e.fix?.severity?"bg-gradient-to-br from-red-50 to-rose-50 border-red-300":"high"===e.fix?.severity?"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-300":"medium"===e.fix?.severity?"bg-gradient-to-br from-yellow-50 to-lime-50 border-yellow-300":"bg-gradient-to-br from-slate-50 to-gray-50 border-slate-300")},h("div",{className:"flex justify-between items-start gap-3 mb-3"},h("div",{className:"flex-1 min-w-0"},h("p",{className:"font-bold text-lg text-slate-900 mb-2"},e.message),h("div",{className:"flex items-center gap-3 text-xs"},h("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded font-mono"},`üìç ${e.context.component}`),h("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded font-mono"},`‚ö° ${e.context.action}`),h("span",{className:"text-slate-400"},new Date(e.timestamp).toLocaleString("ru-RU")))),e.fix&&h("span",{className:"px-3 py-1.5 rounded-full text-xs font-black uppercase tracking-wider shadow-sm "+("critical"===e.fix.severity?"bg-red-600 text-white":"high"===e.fix.severity?"bg-orange-600 text-white":"bg-yellow-600 text-white")},e.fix.severity)),e.fix&&h("div",{className:"mt-3 p-4 bg-white rounded-lg border-2 border-green-300 shadow-sm"},h("p",{className:"text-sm font-bold text-green-700 mb-2 flex items-center gap-2"},"üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:"),h("p",{className:"text-sm text-green-800"},e.fix.suggestion),e.fix.actions&&h("div",{className:"mt-3 flex flex-wrap gap-2"},...e.fix.actions.map((e,t)=>h("span",{key:t,className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium"},`‚ñ∂ ${e}`)))),e.stack&&h("details",{className:"mt-3 group"},h("summary",{className:"text-xs font-bold text-slate-500 cursor-pointer hover:text-slate-700 p-2 bg-white rounded hover:bg-slate-50 transition-colors"},"üìú Stack Trace"),h("pre",{className:"mt-2 p-3 bg-slate-900 text-green-400 rounded-lg text-xs overflow-x-auto font-mono shadow-inner border border-slate-700"},e.stack.split("\n").slice(0,8).join("\n"))))))),"suggestions"===r&&h("div",{className:"space-y-4"},0===n.length?h("div",{className:"text-center py-16 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl"},h("p",{className:"text-6xl mb-4"},"üéØ"),h("p",{className:"text-xl font-bold text-blue-600"},"–í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ!"),h("p",{className:"text-slate-500 mt-2"},"–£–º–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.")):n.map((e,t)=>h("div",{key:t,className:"p-5 rounded-xl border-2 shadow-md bg-gradient-to-br "+("critical"===e.severity?"from-red-50 to-rose-100 border-red-400":"high"===e.severity?"from-orange-50 to-amber-100 border-orange-400":"from-blue-50 to-cyan-100 border-blue-400")},h("div",{className:"flex items-start gap-4"},h("div",{className:"text-4xl "+("frequent"===e.type?"üîÑ":"critical"===e.type?"üö®":"performance"===e.type?"‚ö°":"üí°")},"frequent"===e.type?"üîÑ":"critical"===e.type?"üö®":"performance"===e.type?"‚ö°":"üí°"),h("div",{className:"flex-1"},h("p",{className:"font-bold text-lg text-slate-900 mb-2"},e.message),h("p",{className:"text-sm text-slate-700 bg-white px-3 py-2 rounded-lg inline-block"},`‚úì ${e.action}`)))))),"performance"===r&&h("div",{className:"space-y-4"},h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},h("div",{className:"p-5 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl border-2 border-purple-300"},h("p",{className:"text-sm font-bold text-purple-700 mb-1"},"–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞"),h("p",{className:"text-3xl font-black text-purple-900"},`${AIHealer.performanceMetrics.length>0?Math.round(AIHealer.performanceMetrics.reduce((e,t)=>e+t.value,0)/AIHealer.performanceMetrics.length):0}ms`)),h("div",{className:"p-5 bg-gradient-to-br from-cyan-100 to-blue-100 rounded-xl border-2 border-cyan-300"},h("p",{className:"text-sm font-bold text-cyan-700 mb-1"},"–ú–µ–¥–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"),h("p",{className:"text-3xl font-black text-cyan-900"},AIHealer.performanceMetrics.filter(e=>e.value>3e3).length))),h("div",{className:"space-y-2"},AIHealer.performanceMetrics.slice(0,15).map((e,t)=>h("div",{key:t,className:"p-3 rounded-lg border "+(e.value>3e3?"bg-red-50 border-red-200":e.value>1e3?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200")},h("div",{className:"flex justify-between items-center"},h("span",{className:"font-mono text-sm font-bold"},e.metric),h("div",{className:"flex items-center gap-2"},h("span",{className:"font-bold "+(e.value>3e3?"text-red-600":e.value>1e3?"text-yellow-600":"text-green-600")},`${e.value}ms`),h("span",{className:"text-xs text-slate-400"},new Date(e.timestamp).toLocaleTimeString("ru-RU")))))))),"actions"===r&&h("div",{className:"space-y-2"},0===AIHealer.userActions.length?h("div",{className:"text-center py-16 bg-slate-50 rounded-2xl"},h("p",{className:"text-6xl mb-4"},"üìä"),h("p",{className:"text-xl font-bold text-slate-600"},"–î–µ–π—Å—Ç–≤–∏—è –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è"),h("p",{className:"text-slate-400 mt-2 text-sm"},"–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ")):AIHealer.userActions.slice(0,50).map((e,t)=>h("div",{key:e.id,className:"p-3 bg-white hover:bg-slate-50 rounded-lg border border-slate-200 transition-all"},h("div",{className:"flex justify-between items-center"},h("div",{className:"flex items-center gap-3"},h("span",{className:"text-2xl"},e.action.includes("click")?"üëÜ":e.action.includes("search")?"üîç":e.action.includes("open")?"üìÇ":e.action.includes("close")?"‚úï":"‚ö°"),h("div",null,h("p",{className:"font-mono text-sm font-bold text-slate-700"},e.action),h("p",{className:"text-xs text-slate-400"},e.context.previousAction))),h("span",{className:"text-xs text-slate-400 font-mono"},new Date(e.timestamp).toLocaleTimeString("ru-RU"))))))),h("div",{className:"p-4 bg-gradient-to-r from-slate-800 to-slate-900 text-white"},h("div",{className:"flex items-center justify-between text-xs"},h("div",null,h("p",{className:"font-bold mb-1"},"üíª –ö–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"),h("p",{className:"text-slate-300"},"–ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Console –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏")),h("div",{className:"text-right"},h("p",{className:"font-bold mb-1"},"üîß API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤"),h("p",{className:"text-slate-300 font-mono"},"window.AIHealer"))))))},cn=(...e)=>e.filter(Boolean).join(" "),formatPrice=(e,t="UAH")=>e||0===e?"UAH"===t?`${Number(e).toLocaleString("uk-UA")} ‚Ç¥`:"USD"===t?`$${Number(e).toFixed(2)}`:"EUR"===t?`‚Ç¨${Number(e).toFixed(2)}`:`${Number(e).toFixed(2)}`:"‚Äî",RATES={UAH_TO_USD:.024,UAH_TO_EUR:.022,USD_TO_UAH:41.5,EUR_TO_UAH:45},convertPrice=(e,t,a)=>e?t===a?e:"UAH"===t&&"USD"===a?e*RATES.UAH_TO_USD:"UAH"===t&&"EUR"===a?e*RATES.UAH_TO_EUR:"USD"===t&&"UAH"===a?e*RATES.USD_TO_UAH:"EUR"===t&&"UAH"===a?e*RATES.EUR_TO_UAH:e:null,Icons={Search:()=>h("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),Back:()=>h("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})),Close:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),Chip:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})),Board:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})),Price:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),Error:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),Calculator:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})),Book:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})),Tag:()=>h("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}))},getCategoryIcon=e=>({iPhone:"üì±",iPad:"üìü",Mac:"üíª",MacBook:"üíª","Apple Watch":"‚åö",AirPods:"üéß"}[e]||"üîß"),Modal=({title:e,subtitle:t,onClose:a,children:s,color:l="indigo"})=>h("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:e=>e.target===e.currentTarget&&a()},h("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col animate-in fade-in zoom-in duration-200"},h("div",{className:`bg-gradient-to-r ${{indigo:"from-indigo-500 to-purple-600",green:"from-emerald-500 to-teal-600",amber:"from-amber-500 to-orange-600",red:"from-red-500 to-rose-600",blue:"from-blue-500 to-cyan-600",violet:"from-violet-500 to-purple-600"}[l]} p-5 text-white`},h("div",{className:"flex justify-between items-start"},h("div",null,h("h2",{className:"text-xl font-bold"},e),t&&h("p",{className:"text-white/80 text-sm mt-1"},t)),h("button",{onClick:a,className:"w-9 h-9 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors"},h(Icons.Close)))),s)),DetailModal=({item:e,type:t,onClose:a,ukrainePrices:s})=>{if(!e)return null;const l=e=>s&&e?s[e]:null;if("board"===t){const t=l(e.article);return h(Modal,{title:`üñ•Ô∏è ${e.board_number||e.article}`,subtitle:e.model,onClose:a,color:"violet"},h("div",{className:"p-6 overflow-y-auto"},h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},h("div",{className:"space-y-4"},h("div",{className:"bg-violet-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-violet-800 mb-3"},"üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"),h("div",{className:"space-y-2 text-sm"},e.article&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–ê—Ä—Ç–∏–∫—É–ª:"),h("span",{className:"font-mono font-bold text-violet-600"},e.article)),e.board_number&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"Board Number:"),h("span",{className:"font-mono font-bold"},e.board_number)),e.model_number&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"Model Number:"),h("span",{className:"font-bold"},e.model_number)),e.emc&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"EMC:"),h("span",{className:"font-bold"},e.emc)),e.year&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–ì–æ–¥:"),h("span",{className:"font-bold"},e.year)),e.architecture&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:"),h("span",{className:"font-bold text-purple-600"},e.architecture)))),e.specs&&h("div",{className:"bg-blue-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-blue-800 mb-3"},"‚öôÔ∏è –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏"),h("div",{className:"space-y-2 text-sm"},e.specs.cpu_ghz&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"CPU:"),h("span",{className:"font-bold"},`${e.specs.cpu_ghz} GHz`)),e.specs.ram_gb&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"RAM:"),h("span",{className:"font-bold"},`${e.specs.ram_gb} GB`)),e.specs.storage_gb&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"Storage:"),h("span",{className:"font-bold"},`${e.specs.storage_gb} GB`))))),h("div",{className:"space-y-4"},h("div",{className:"bg-green-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-green-800 mb-3"},"üí∞ –¶–µ–Ω—ã"),h("div",{className:"space-y-3"},(t||e.price_uah)&&h("div",{className:"p-3 bg-yellow-100 rounded-lg"},h("div",{className:"flex items-center gap-2 mb-1"},h("span",null,"üá∫üá¶"),h("span",{className:"font-semibold text-slate-700"},"–£–∫—Ä–∞–∏–Ω–∞")),h("p",{className:"text-2xl font-bold text-yellow-700"},formatPrice(t?.price_uah||e.price_uah,"UAH")),h("p",{className:"text-sm text-slate-500"},`‚âà ${formatPrice(convertPrice(t?.price_uah||e.price_uah,"UAH","USD"),"USD")}`)),e.price_usd&&h("div",{className:"p-3 bg-blue-100 rounded-lg"},h("div",{className:"flex items-center gap-2 mb-1"},h("span",null,"üá∫üá∏"),h("span",{className:"font-semibold text-slate-700"},"USD")),h("p",{className:"text-2xl font-bold text-blue-700"},formatPrice(e.price_usd,"USD"))))),e.description&&h("div",{className:"bg-slate-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-slate-800 mb-2"},"üìù –û–ø–∏—Å–∞–Ω–∏–µ"),h("p",{className:"text-sm text-slate-600"},e.description))))))}if("article"===t){const t=l(e.article),s=t?.price_uah||e.price_uah,r=e.price_eur||(e.price_usd?.91*e.price_usd:null)||(s?s*RATES.UAH_TO_EUR:null),o=e.price_usd||(s?s*RATES.UAH_TO_USD:null),n=s&&r?r*RATES.EUR_TO_UAH-s:null,i=n&&r?Math.round(n/(r*RATES.EUR_TO_UAH)*100):0;return h(Modal,{title:`üîß ${e.article}`,subtitle:e.description||e.label,onClose:a,color:"green"},h("div",{className:"p-6 overflow-y-auto"},h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},h("div",{className:"space-y-4"},h("div",{className:"bg-emerald-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-emerald-800 mb-3"},"üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"),h("div",{className:"space-y-2 text-sm"},h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–ê—Ä—Ç–∏–∫—É–ª:"),h("span",{className:"font-mono font-bold text-emerald-600"},e.article)),(e.type||e.label)&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–¢–∏–ø:"),h("span",{className:"font-bold capitalize"},(e.label||e.type||"").replace("_"," "))),e.model&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"–ú–æ–¥–µ–ª—å:"),h("span",{className:"font-bold"},e.model)))),e.description&&h("div",{className:"bg-slate-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-slate-800 mb-2"},"üìù –û–ø–∏—Å–∞–Ω–∏–µ"),h("p",{className:"text-sm text-slate-600"},e.description))),h("div",{className:"space-y-4"},h("div",{className:"bg-green-50 rounded-xl p-4"},h("h3",{className:"font-semibold text-green-800 mb-3"},"üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω"),h("div",{className:"space-y-3"},h("div",{className:"p-3 bg-yellow-100 rounded-lg"},h("div",{className:"flex items-center gap-2 mb-1"},h("span",null,"üá∫üá¶"),h("span",{className:"font-semibold text-slate-700"},"–£–∫—Ä–∞–∏–Ω–∞")),s?h("div",null,h("p",{className:"text-2xl font-bold text-yellow-700"},formatPrice(s,"UAH")),h("p",{className:"text-sm text-slate-500"},`‚âà ${formatPrice(o,"USD")}`)):h("p",{className:"text-slate-500"},"–¶–µ–Ω–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞")),h("div",{className:"p-3 bg-blue-100 rounded-lg"},h("div",{className:"flex items-center gap-2 mb-1"},h("span",null,"üá™üá∫"),h("span",{className:"font-semibold text-slate-700"},"–ï–≤—Ä–æ–ø–∞ (Self-Repair)")),r?h("div",null,h("p",{className:"text-2xl font-bold text-blue-700"},formatPrice(r,"EUR")),h("p",{className:"text-sm text-slate-500"},`‚âà ${formatPrice(r*RATES.EUR_TO_UAH,"UAH")}`)):h("p",{className:"text-slate-500"},"–¶–µ–Ω–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞")),null!==n&&0!==n&&h("div",{className:cn("p-3 rounded-lg",n>0?"bg-green-100":"bg-red-100")},h("div",{className:"flex items-center justify-between"},h("span",{className:"font-semibold text-slate-700"},n>0?"üíö –≠–∫–æ–Ω–æ–º–∏—è –≤ UA:":"‚ö†Ô∏è –î–æ—Ä–æ–∂–µ –≤ UA:"),h("span",{className:cn("font-bold",n>0?"text-green-700":"text-red-700")},`${n>0?"-":"+"}${formatPrice(Math.abs(n),"UAH")} (${Math.abs(i)}%)`)))))))))}if("ic"===t){const t=()=>{const t=e.category||"";return t.includes("charging")?"‚ö°":t.includes("power")?"üîã":t.includes("audio")?"üîä":t.includes("baseband")?"üì°":t.includes("wifi")||t.includes("bt")?"üì∂":t.includes("biometric")?"üëÜ":t.includes("nand")?"üíæ":"üîå"},s=(()=>{if(!e.difficulty)return null;const t={Basic:{bg:"bg-green-100",text:"text-green-700",icon:"‚úÖ"},Intermediate:{bg:"bg-yellow-100",text:"text-yellow-700",icon:"‚ö†Ô∏è"},Advanced:{bg:"bg-orange-100",text:"text-orange-700",icon:"üî∂"},Expert:{bg:"bg-red-100",text:"text-red-700",icon:"üî¥"}};return{...t[e.difficulty]||t.Advanced,text:e.difficulty}})();return h(Modal,{title:`${t()} ${e.name}`,subtitle:e.designation,onClose:a,color:"violet"},h("div",{className:"p-6 overflow-y-auto max-h-[70vh]"},h("div",{className:"flex flex-wrap gap-2 mb-6"},e.category&&h("span",{className:"px-3 py-1 bg-violet-100 text-violet-700 rounded-full text-sm font-semibold"},e.category.replace("_"," ").replace("ics","IC")),e.package&&h("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm font-mono"},e.package),s&&h("span",{className:`px-3 py-1 ${s.bg} ${s.text} rounded-full text-sm font-semibold flex items-center gap-1`},s.icon," ",s.text),e.price_range&&h("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-bold"},`üí∞ ${e.price_range}`)),h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},h("div",{className:"space-y-4"},h("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-4 border border-violet-200"},h("h3",{className:"font-bold text-violet-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-violet-200 rounded-lg flex items-center justify-center"},"üìã"),"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏–∫—Ä–æ—Å—Ö–µ–º–µ"),h("div",{className:"space-y-3 text-sm"},h("div",{className:"p-2 bg-white/80 rounded-lg"},h("span",{className:"text-slate-500 text-xs"},"–ú–∏–∫—Ä–æ—Å—Ö–µ–º–∞"),h("p",{className:"font-mono font-bold text-lg text-violet-600"},e.name)),e.designation&&h("div",{className:"p-2 bg-white/80 rounded-lg"},h("span",{className:"text-slate-500 text-xs"},"–û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –ø–ª–∞—Ç–µ"),h("p",{className:"font-semibold text-slate-800"},e.designation)),e.manufacturer&&h("div",{className:"flex justify-between items-center"},h("span",{className:"text-slate-600"},"–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:"),h("span",{className:"font-bold"},e.manufacturer)))),e.functions?.length>0&&h("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200"},h("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-blue-200 rounded-lg flex items-center justify-center"},"‚öôÔ∏è"),"–§—É–Ω–∫—Ü–∏–∏"),h("ul",{className:"space-y-2"},...e.functions.map((e,t)=>h("li",{key:t,className:"text-sm text-slate-700 flex items-start gap-2 p-2 bg-white/60 rounded-lg"},h("span",{className:"text-blue-500 mt-0.5"},"‚ñ∏"),e)))),e.diagnostics&&h("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200"},h("h3",{className:"font-bold text-green-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-green-200 rounded-lg flex items-center justify-center"},"üîç"),"–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"),h("div",{className:"space-y-3"},e.diagnostics.diode_mode&&h("div",{className:"p-3 bg-white/80 rounded-lg"},h("p",{className:"font-semibold text-slate-700 mb-2 text-xs uppercase tracking-wide"},"üìä –î–∏–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º"),h("div",{className:"grid grid-cols-2 gap-2"},...Object.entries(e.diagnostics.diode_mode).map(([e,t])=>h("div",{key:e,className:"p-2 bg-green-100 rounded text-center"},h("p",{className:"text-xs text-green-600"},e),h("p",{className:"font-mono font-bold text-green-800"},t))))),(e.diagnostics.pp5v0_usb||e.diagnostics.pp_vdd_main||e.diagnostics.usb_pd)&&h("div",{className:"p-3 bg-white/80 rounded-lg"},h("p",{className:"font-semibold text-slate-700 mb-2 text-xs uppercase tracking-wide"},"‚ö° –ù–∞–ø—Ä—è–∂–µ–Ω–∏—è"),h("div",{className:"space-y-1 text-sm"},e.diagnostics.pp5v0_usb&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"PP5V0_USB:"),h("span",{className:"font-mono font-bold text-green-600"},e.diagnostics.pp5v0_usb)),e.diagnostics.pp_vdd_main&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"PP_VDD_MAIN:"),h("span",{className:"font-mono font-bold text-green-600"},e.diagnostics.pp_vdd_main)),e.diagnostics.usb_pd&&h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"USB-PD:"),h("span",{className:"font-mono font-bold text-green-600"},e.diagnostics.usb_pd)))),e.diagnostics.current_draw&&h("div",{className:"p-3 bg-yellow-50 rounded-lg"},h("p",{className:"font-semibold text-slate-700 mb-1 text-xs uppercase tracking-wide"},"üîå –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ç–æ–∫–∞"),h("p",{className:"font-mono text-yellow-700"},e.diagnostics.current_draw))))),h("div",{className:"space-y-4"},e.symptoms_when_faulty?.length>0&&h("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 rounded-xl p-4 border border-red-200"},h("h3",{className:"font-bold text-red-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-red-200 rounded-lg flex items-center justify-center"},"‚ö†Ô∏è"),"–°–∏–º–ø—Ç–æ–º—ã –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏"),h("ul",{className:"space-y-2"},...e.symptoms_when_faulty.map((e,t)=>h("li",{key:t,className:"text-sm text-red-700 flex items-start gap-2 p-2 bg-white/60 rounded-lg"},h("span",{className:"text-red-500"},"‚ùå"),e)))),e.repair_tips?.length>0&&h("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl p-4 border border-amber-200"},h("h3",{className:"font-bold text-amber-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-amber-200 rounded-lg flex items-center justify-center"},"üí°"),"–°–æ–≤–µ—Ç—ã –ø–æ —Ä–µ–º–æ–Ω—Ç—É"),h("ul",{className:"space-y-2"},...e.repair_tips.map((e,t)=>h("li",{key:t,className:"text-sm text-amber-700 flex items-start gap-2 p-2 bg-white/60 rounded-lg"},h("span",{className:"text-amber-500"},"‚Üí"),e)))),e.compatible_devices?.length>0&&h("div",{className:"bg-gradient-to-br from-slate-50 to-gray-100 rounded-xl p-4 border border-slate-200"},h("h3",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center"},"üì±"),`–°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (${e.compatible_devices.length})`),h("div",{className:"flex flex-wrap gap-2"},...e.compatible_devices.map((e,t)=>h("span",{key:t,className:"px-3 py-1.5 bg-white rounded-lg text-xs font-medium text-slate-700 border border-slate-200 shadow-sm hover:border-indigo-300 transition-colors"},e)))),h("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white"},h("h3",{className:"font-bold mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center"},"üìå"),"–ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞"),h("div",{className:"space-y-2 text-sm"},h("div",{className:"flex justify-between items-center p-2 bg-white/10 rounded-lg"},h("span",{className:"text-white/80"},"–ú–∏–∫—Ä–æ—Å—Ö–µ–º–∞:"),h("span",{className:"font-mono font-bold"},e.name)),e.designation&&h("div",{className:"flex justify-between items-center p-2 bg-white/10 rounded-lg"},h("span",{className:"text-white/80"},"–ù–∞ –ø–ª–∞—Ç–µ:"),h("span",{className:"font-bold"},e.designation)),e.price_range&&h("div",{className:"flex justify-between items-center p-2 bg-white/10 rounded-lg"},h("span",{className:"text-white/80"},"–¶–µ–Ω–∞:"),h("span",{className:"font-bold text-green-300"},e.price_range)),e.difficulty&&h("div",{className:"flex justify-between items-center p-2 bg-white/10 rounded-lg"},h("span",{className:"text-white/80"},"–°–ª–æ–∂–Ω–æ—Å—Ç—å:"),h("span",{className:cn("font-bold","Expert"===e.difficulty?"text-red-300":"Advanced"===e.difficulty?"text-orange-300":"text-green-300")},e.difficulty))))))))}return null},PricesPanel=({ukrainePrices:e,logicBoardsSpecs:t,onClose:a,onSelectItem:s})=>{const[l,r]=useState(""),[o,n]=useState("all"),[i,c]=useState("name");if(!e)return h(Modal,{title:"üí∞ –¶–µ–Ω—ã –£–∫—Ä–∞–∏–Ω–∞",onClose:a,color:"green"},h("div",{className:"p-8 text-center text-gray-500"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Ü–µ–Ω..."));const d=useMemo(()=>e?Object.entries(e).map(([e,t])=>({article:e,description:t.description||"",price_uah:t.price_uah,price_usd:convertPrice(t.price_uah,"UAH","USD"),discount:t.discount||0,category:detectCategory(t.description)})).filter(e=>e.price_uah>0):[],[e]),m=useMemo(()=>{const e=new Set(d.map(e=>e.category));return["all",...Array.from(e).sort()]},[d]),p=useMemo(()=>{if(!d||!Array.isArray(d))return[];let e=d;if("all"!==o&&(e=e.filter(e=>e.category===o)),l){const t=l.toLowerCase();e=e.filter(e=>(e.article||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}return e=[...e].sort((e,t)=>"price_asc"===i?(e.price_uah||0)-(t.price_uah||0):"price_desc"===i?(t.price_uah||0)-(e.price_uah||0):(e.description||"").localeCompare(t.description||"")),e.slice(0,200)},[d,l,o,i]);return h(Modal,{title:"üí∞ –ö–∞—Ç–∞–ª–æ–≥ —Ü–µ–Ω",subtitle:`${d.length.toLocaleString()} –ø–æ–∑–∏—Ü–∏–π ‚Ä¢ –†–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –£–∫—Ä–∞–∏–Ω–∞`,onClose:a,color:"amber"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50 space-y-3"},h("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-amber-500 focus:outline-none"}),h("div",{className:"flex gap-2 flex-wrap items-center"},h("select",{value:o,onChange:e=>n(e.target.value),className:"px-3 py-1.5 rounded-lg border border-slate-200 text-sm"},...m.map(e=>h("option",{key:e,value:e},"all"===e?"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏":e))),h("select",{value:i,onChange:e=>c(e.target.value),className:"px-3 py-1.5 rounded-lg border border-slate-200 text-sm"},h("option",{value:"name"},"–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é"),h("option",{value:"price_asc"},"–¶–µ–Ω–∞ ‚Üë"),h("option",{value:"price_desc"},"–¶–µ–Ω–∞ ‚Üì")),h("span",{className:"text-sm text-slate-500 ml-auto"},`–ü–æ–∫–∞–∑–∞–Ω–æ: ${p.length}`))),h("div",{className:"flex-1 overflow-y-auto p-4"},h("div",{className:"space-y-2"},0===p.length&&h("p",{className:"text-center text-slate-500 py-8"},"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),...(p||[]).map(e=>h("div",{key:e.article,onClick:()=>s({...e,type:"article"}),className:"p-3 bg-white rounded-xl border border-slate-200 hover:border-amber-300 hover:shadow-md cursor-pointer transition-all flex justify-between items-center gap-4"},h("div",{className:"flex-1 min-w-0"},h("p",{className:"font-mono text-sm font-bold text-amber-600"},e.article),h("p",{className:"text-sm text-slate-600 truncate"},e.description),h("span",{className:"inline-block mt-1 px-2 py-0.5 bg-slate-100 rounded text-xs text-slate-500"},e.category)),h("div",{className:"text-right flex-shrink-0"},h("p",{className:"text-lg font-bold text-amber-600"},formatPrice(e.price_uah,"UAH")),h("p",{className:"text-xs text-slate-500"},`‚âà ${formatPrice(e.price_usd,"USD")}`))))))))};function detectCategory(e){const t=e.toLowerCase();return t.includes("logic board")||t.includes("–º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∞—è")?"Logic Board":t.includes("display")||t.includes("lcd")||t.includes("screen")||t.includes("–¥–∏—Å–ø–ª–µ–π")?"Display":t.includes("battery")||t.includes("–±–∞—Ç–∞—Ä–µ—è")||t.includes("–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä")?"Battery":t.includes("camera")||t.includes("–∫–∞–º–µ—Ä–∞")?"Camera":t.includes("speaker")||t.includes("–¥–∏–Ω–∞–º–∏–∫")?"Speaker":t.includes("keyboard")||t.includes("–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞")||t.includes("top case")?"Keyboard/TopCase":t.includes("bottom case")||t.includes("housing")?"Housing":t.includes("trackpad")||t.includes("—Ç—Ä–µ–∫–ø–∞–¥")?"Trackpad":t.includes("fan")||t.includes("–≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä")?"Fan":t.includes("ssd")||t.includes("flash")||t.includes("storage")?"Storage":t.includes("charger")||t.includes("adapter")||t.includes("–∑–∞—Ä—è–¥–∫–∞")?"Charger":t.includes("cable")||t.includes("flex")||t.includes("–∫–∞–±–µ–ª—å")?"Cable":t.includes("screw")||t.includes("–≤–∏–Ω—Ç")?"Screws":t.includes("iphone")?"iPhone Parts":t.includes("ipad")?"iPad Parts":t.includes("macbook")||t.includes("mbp")?"MacBook Parts":t.includes("imac")?"iMac Parts":t.includes("mac mini")||t.includes("mac pro")?"Mac Parts":t.includes("watch")?"Watch Parts":t.includes("airpods")||t.includes("beats")?"Audio Parts":"Other"}const LogicBoardsPanel=({logicBoards:e,logicBoardsSpecs:t,ukrainePrices:a,onClose:s,onSelectItem:l})=>{const[r,o]=useState(""),[n,i]=useState("all");if(!e&&!t)return h(Modal,{title:"üñ•Ô∏è –ë–∞–∑–∞ –ø–ª–∞—Ç",onClose:s,color:"violet"},h("div",{className:"p-8 text-center text-gray-500"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."));const c=useMemo(()=>{const a=[];return e&&((e.m_series_boards||[]).forEach(e=>{a.push({...e,type:"M-series",source:"comprehensive"})}),(e.intel_boards||[]).forEach(e=>{a.push({...e,type:"Intel",source:"comprehensive"})})),t?.boards&&Object.entries(t.boards).forEach(([e,t])=>{const s=a.find(t=>t.article===e);s?Object.assign(s,t,{article:e,hasPrice:!0}):a.push({...t,article:e,type:t.model?.includes("M1")||t.model?.includes("M2")||t.model?.includes("M3")||t.model?.includes("M4")?"M-series":"Intel",source:"specs",hasPrice:!0})}),a},[e,t]),d=useMemo(()=>{if(!c||!Array.isArray(c))return[];let e=c;if("all"!==n&&(e=e.filter(e=>e.type===n)),r){const t=r.toLowerCase();e=e.filter(e=>(e.board_number||"").toLowerCase().includes(t)||(e.model||"").toLowerCase().includes(t)||(e.model_number||"").toLowerCase().includes(t)||(e.article||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t))}return e.slice(0,100)},[c,r,n]),m=useMemo(()=>c&&Array.isArray(c)?{total:c.length,mSeries:c.filter(e=>"M-series"===e.type).length,intel:c.filter(e=>"Intel"===e.type).length,withPrices:c.filter(e=>e.hasPrice||e.price_uah||e.price_usd).length}:{total:0,mSeries:0,intel:0,withPrices:0},[c]);return h(Modal,{title:"üñ•Ô∏è Logic Boards",subtitle:`${m.total} –ø–ª–∞—Ç ‚Ä¢ ${m.mSeries} M-series ‚Ä¢ ${m.intel} Intel ‚Ä¢ ${m.withPrices} —Å —Ü–µ–Ω–∞–º–∏`,onClose:s,color:"violet"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50 space-y-3"},h("div",{className:"flex gap-2"},["all","M-series","Intel"].map(e=>h("button",{key:e,onClick:()=>i(e),className:cn("px-4 py-2 rounded-xl font-medium text-sm transition-colors",n===e?"bg-violet-500 text-white":"bg-white text-slate-600 hover:bg-slate-100")},"all"===e?`–í—Å–µ (${m.total})`:"M-series"===e?`Apple Silicon (${m.mSeries})`:`Intel (${m.intel})`))),h("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥–µ–ª–∏, board number, –∞—Ä—Ç–∏–∫—É–ª—É...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:outline-none"})),h("div",{className:"flex-1 overflow-y-auto p-4"},h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},...(d||[]).map((e,t)=>{const s=a?.[e.article],r=e.price_uah||e.price_usd||s;return h("div",{key:e.article||e.board_number||t,onClick:()=>l({...e,...s||{},type:"board"}),className:"p-4 bg-white rounded-xl border border-slate-200 hover:border-violet-300 hover:shadow-md cursor-pointer transition-all"},h("div",{className:"flex justify-between items-start mb-2"},h("div",null,h("p",{className:"font-mono font-bold text-violet-600"},e.board_number||e.article),e.article&&e.board_number&&h("p",{className:"text-xs text-slate-400 font-mono"},e.article)),h("div",{className:"flex gap-1"},h("span",{className:cn("px-2 py-0.5 rounded text-xs font-medium","M-series"===e.type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700")},e.type),r&&h("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700"},"üí∞"))),h("p",{className:"text-sm text-slate-700 mb-2 line-clamp-2"},e.model||e.description),h("div",{className:"flex flex-wrap gap-2 text-xs"},e.model_number&&h("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-slate-600"},e.model_number),e.emc&&h("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-slate-600"},e.emc),e.year&&h("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-slate-600"},e.year),e.architecture&&h("span",{className:"px-2 py-0.5 bg-purple-100 rounded text-purple-600"},e.architecture)),r&&h("div",{className:"mt-2 pt-2 border-t border-slate-100 flex justify-between items-center"},h("span",{className:"text-xs text-slate-500"},"üá∫üá¶"),h("span",{className:"font-bold text-amber-600"},formatPrice(s?.price_uah||e.price_uah,"UAH"))))})))))},ICDatabasePanel=({icData:e,onClose:t,onSelectItem:a})=>{const[s,l]=useState(""),[r,o]=useState("charging");if(!e)return h(Modal,{title:"üîå –ë–∞–∑–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º",onClose:t,color:"violet"},h("div",{className:"p-8 text-center text-gray-500"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."));const n={charging:{name:"‚ö° –ó–∞—Ä—è–¥–∫–∞",data:e?.charging_ics||[]},power:{name:"üîã –ü–∏—Ç–∞–Ω–∏–µ",data:e?.power_ics||[]},audio:{name:"üîä –ê—É–¥–∏–æ",data:e?.audio_ics||[]},baseband:{name:"üì∂ Baseband",data:e?.baseband_ics||[]},nand:{name:"üíæ NAND",data:e?.nand_ics||[]},wifi_bt:{name:"üì° WiFi/BT",data:e?.wifi_bt_ics||[]},biometric:{name:"üëÜ –ë–∏–æ–º–µ—Ç—Ä–∏—è",data:e?.biometric_ics||[]}},i=n[r]?.data||[],c=useMemo(()=>{if(!i||!Array.isArray(i))return[];if(!s)return i;const e=s.toLowerCase();return i.filter(t=>(t.name||"").toLowerCase().includes(e)||(t.designation||"").toLowerCase().includes(e)||(t.compatible_devices||[]).some(t=>t.toLowerCase().includes(e)))},[i,s]),d=Object.values(n||{}).reduce((e,t)=>e+(t?.data?.length||0),0);return h(Modal,{title:"üîå –ë–∞–∑–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º",subtitle:`${d} –º–∏–∫—Ä–æ—Å—Ö–µ–º ‚Ä¢ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å`,onClose:t,color:"violet"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50 space-y-3"},h("div",{className:"flex gap-2 flex-wrap"},...Object.entries(n).map(([e,t])=>h("button",{key:e,onClick:()=>o(e),className:cn("px-3 py-1.5 rounded-lg font-medium text-sm transition-colors",r===e?"bg-violet-500 text-white":"bg-white text-slate-600 hover:bg-slate-100")},`${t.name} (${t.data.length})`))),h("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-violet-500 focus:outline-none"})),h("div",{className:"flex-1 overflow-y-auto p-4"},h("div",{className:"space-y-3"},0===c.length&&h("p",{className:"text-center text-slate-500 py-8"},"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),...(c||[]).map((e,t)=>h("div",{key:e.name||t,onClick:()=>a({...e,type:"ic"}),className:"p-4 bg-white rounded-xl border border-slate-200 hover:border-violet-300 hover:shadow-md cursor-pointer transition-all"},h("div",{className:"flex justify-between items-start mb-2"},h("div",null,h("p",{className:"font-mono font-bold text-violet-600"},e.name),e.designation&&h("p",{className:"text-xs text-slate-500"},e.designation)),h("div",{className:"flex gap-2"},e.price_range&&h("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs"},e.price_range),e.difficulty&&h("span",{className:cn("px-2 py-0.5 rounded text-xs","Expert"===e.difficulty?"bg-red-100 text-red-700":"Advanced"===e.difficulty?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700")},e.difficulty))),e.functions?.length>0&&h("p",{className:"text-sm text-slate-600 mb-2"},e.functions.slice(0,2).join(", ")),e.compatible_devices?.length>0&&h("div",{className:"flex flex-wrap gap-1"},...e.compatible_devices.slice(0,5).map((e,t)=>h("span",{key:t,className:"px-2 py-0.5 bg-slate-100 rounded text-xs text-slate-600"},e)),e.compatible_devices.length>5&&h("span",{className:"text-xs text-slate-400"},"+"+(e.compatible_devices.length-5))),e.symptoms_when_faulty?.length>0&&h("div",{className:"mt-2 pt-2 border-t border-slate-100"},h("p",{className:"text-xs text-red-600"},`‚ö†Ô∏è ${e.symptoms_when_faulty[0]}`))))))))},ArticleSearchPanel=({articleData:e,ukrainePrices:t,onClose:a,onSelectItem:s})=>{const[l,r]=useState(""),[o,n]=useState("all"),i=e?.articles||[],c=useMemo(()=>{if(!i||!Array.isArray(i))return[];let e=i;if("all"!==o&&(e=e.filter(e=>e.part_type===o)),l){const t=l.toLowerCase();e=e.filter(e=>(e.article||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||(e.model||"").toLowerCase().includes(t))}return e.slice(0,100)},[i,l,o]);return h(Modal,{title:"üîç –ü–æ–∏—Å–∫ –∞—Ä—Ç–∏–∫—É–ª–æ–≤",subtitle:`${e?.total||0} –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –≤ –±–∞–∑–µ`,onClose:a,color:"green"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50 space-y-3"},h("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∞—Ä—Ç–∏–∫—É–ª, –º–æ–¥–µ–ª—å –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-emerald-500 focus:outline-none"}),h("div",{className:"flex gap-2 flex-wrap"},...["all","display","battery","rear_camera","front_camera","speaker","logic_board"].map(e=>h("button",{key:e,onClick:()=>n(e),className:cn("px-3 py-1 rounded-full text-sm font-medium transition-colors",o===e?"bg-emerald-500 text-white":"bg-white text-slate-600 hover:bg-slate-100")},"all"===e?"–í—Å–µ":"display"===e?"üì± –î–∏—Å–ø–ª–µ–∏":"battery"===e?"üîã –ë–∞—Ç–∞—Ä–µ–∏":"rear_camera"===e?"üì∑ –ó–∞–¥–Ω–∏–µ –∫–∞–º–µ—Ä—ã":"front_camera"===e?"ü§≥ –§—Ä–æ–Ω—Ç –∫–∞–º–µ—Ä—ã":"speaker"===e?"üîä –î–∏–Ω–∞–º–∏–∫–∏":"logic_board"===e?"üñ•Ô∏è –ü–ª–∞—Ç—ã":e)))),h("div",{className:"flex-1 overflow-y-auto p-4"},h("div",{className:"space-y-2"},0===c.length&&h("p",{className:"text-center text-slate-500 py-8"},"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),...(c||[]).map((e,a)=>{const l=t?.[e.article];return h("div",{key:e.article||a,onClick:()=>s({...e,...l||{},type:"article"}),className:"p-3 bg-white rounded-xl border border-slate-200 hover:border-emerald-300 hover:shadow-md cursor-pointer transition-all"},h("div",{className:"flex justify-between items-start gap-4"},h("div",{className:"flex-1 min-w-0"},h("p",{className:"font-mono font-bold text-emerald-600"},e.article),h("p",{className:"text-sm text-slate-700 truncate"},e.description),h("p",{className:"text-xs text-slate-500 mt-1"},e.model),h("span",{className:"inline-block mt-1 px-2 py-0.5 bg-slate-100 rounded text-xs text-slate-500 capitalize"},(e.part_type||"").replace("_"," "))),h("div",{className:"text-right flex-shrink-0"},l&&h("p",{className:"text-lg font-bold text-amber-600"},formatPrice(l.price_uah,"UAH")),e.price_usd&&h("p",{className:"text-sm text-blue-600"},formatPrice(e.price_usd,"USD")),!l&&!e.price_usd&&h("p",{className:"text-sm text-slate-400"},"‚Äî"))))})))))},ErrorCodesPanel=({errorData:e,onClose:t})=>{const[a,s]=useState(""),[l,r]=useState("itunes");if(!e)return h(Modal,{title:"‚ö†Ô∏è –ö–æ–¥—ã –æ—à–∏–±–æ–∫",onClose:t,color:"red"},h("div",{className:"p-8 text-center text-gray-500"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫..."));const o=e?.itunes_restore_errors||[],n=e?.mac_diagnostics||[],i="itunes"===l?o:n,c=useMemo(()=>{if(!i||!Array.isArray(i))return[];if(!a)return i;const e=a.toLowerCase();return i.filter(t=>String(t.code).toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||(t.cause||"").toLowerCase().includes(e))},[i,a]);return h(Modal,{title:"üö® –ö–æ–¥—ã –æ—à–∏–±–æ–∫",subtitle:`${o.length} iTunes ‚Ä¢ ${n.length} Mac –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞`,onClose:t,color:"red"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50 space-y-3"},h("div",{className:"flex gap-2"},h("button",{onClick:()=>r("itunes"),className:cn("px-4 py-2 rounded-xl font-medium text-sm","itunes"===l?"bg-red-500 text-white":"bg-white text-slate-600")},`iTunes/Finder (${o.length})`),h("button",{onClick:()=>r("mac"),className:cn("px-4 py-2 rounded-xl font-medium text-sm","mac"===l?"bg-blue-500 text-white":"bg-white text-slate-600")},`Mac Diagnostics (${n.length})`)),h("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –æ—à–∏–±–∫–∏ (4013, 9, ADP...)...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-red-500 focus:outline-none"})),h("div",{className:"flex-1 overflow-y-auto p-4"},h("div",{className:"space-y-3"},0===c.length&&h("p",{className:"text-center text-slate-500 py-8"},"–û—à–∏–±–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"),...(c||[]).map((e,t)=>h("div",{key:e.code||t,className:"p-4 bg-white rounded-xl border border-slate-200"},h("div",{className:"flex items-start gap-4"},h("div",{className:"w-16 h-16 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0"},h("span",{className:"text-xl font-bold text-red-600"},e.code)),h("div",{className:"flex-1"},h("p",{className:"font-semibold text-slate-800 mb-1"},e.description||"–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"),e.cause&&h("p",{className:"text-sm text-slate-600 mb-2"},`‚ö†Ô∏è –ü—Ä–∏—á–∏–Ω–∞: ${e.cause}`),e.solution&&h("div",{className:"p-3 bg-green-50 rounded-lg"},h("p",{className:"text-sm text-green-800"},`‚úÖ –†–µ—à–µ–Ω–∏–µ: ${e.solution}`)),h("div",{className:"flex gap-2 mt-2"},e.hardware&&h("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs"},"üîß Hardware"),e.severity&&h("span",{className:cn("px-2 py-1 rounded text-xs","critical"===e.severity?"bg-red-100 text-red-700":"high"===e.severity?"bg-orange-100 text-orange-700":"medium"===e.severity?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700")},e.severity),e.component&&h("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs"},e.component))))))))))},RepairCalculatorPanel=({devices:e,ukrainePrices:t,officialPrices:a,onClose:s})=>{const[l,r]=useState(null),[o,n]=useState([]),[i,c]=useState(500),[d,m]=useState(30),[p,u]=useState("UA"),[x,g]=useState(""),b=[{id:"battery",name:"–ó–∞–º–µ–Ω–∞ –±–∞—Ç–∞—Ä–µ–∏",icon:"üîã"},{id:"display",name:"–ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è",icon:"üì±"},{id:"rear_camera",name:"–ó–∞–¥–Ω—è—è –∫–∞–º–µ—Ä–∞",icon:"üì∑"},{id:"front_camera",name:"–§—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞",icon:"ü§≥"},{id:"speaker",name:"–î–∏–Ω–∞–º–∏–∫",icon:"üîä"},{id:"taptic_engine",name:"Taptic Engine",icon:"üì≥"},{id:"keyboard",name:"–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞",icon:"‚å®Ô∏è"},{id:"charging_port",name:"–†–∞–∑—ä—ë–º –∑–∞—Ä—è–¥–∫–∏",icon:"‚ö°"}],f=useMemo(()=>{let t=e.filter(e=>e.service_parts&&Object.keys(e.service_parts).length>0);if(x){const e=x.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e))}return t.sort((e,t)=>(t.year||0)-(e.year||0))},[e,x]),N=(e,a)=>{if(!e?.service_parts?.[a])return null;const s=e.service_parts[a],l=s?.article;if("UA"===p){if(l&&t?.[l])return{price:t[l].price_uah,currency:"UAH"};if(s.price_usd)return{price:s.price_usd*RATES.USD_TO_UAH,currency:"UAH"}}else{if(s.price_usd)return{price:.91*s.price_usd,currency:"EUR"};if(l&&t?.[l])return{price:t[l].price_uah*RATES.UAH_TO_EUR,currency:"EUR"}}return null},v=useMemo(()=>{if(!l||0===o.length)return null;let e=0;const t=[],a="UA"===p?"UAH":"EUR";o.forEach(a=>{const s=N(l,a);s&&(e+=s.price,t.push({id:a,price:s.price,currency:s.currency,name:b.find(e=>e.id===a)?.name}))});const s="UA"===p?i:i*RATES.UAH_TO_EUR,r=o.length*s,n=e+r,c=n*(d/100);return{partsCost:e,labor:r,subtotal:n,marginAmount:c,total:n+c,repairDetails:t,currency:a}},[l,o,i,d,p,t]);return h(Modal,{title:"üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–µ–º–æ–Ω—Ç–∞",subtitle:"–†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏",onClose:s,color:"blue"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"flex-1 overflow-y-auto p-6 space-y-6"},h("div",{className:"flex gap-2"},h("button",{onClick:()=>u("UA"),className:cn("px-4 py-2 rounded-xl font-medium flex items-center gap-2","UA"===p?"bg-yellow-400 text-yellow-900":"bg-slate-100 text-slate-600")},"üá∫üá¶ –£–∫—Ä–∞–∏–Ω–∞ (‚Ç¥)"),h("button",{onClick:()=>u("EU"),className:cn("px-4 py-2 rounded-xl font-medium flex items-center gap-2","EU"===p?"bg-blue-500 text-white":"bg-slate-100 text-slate-600")},"üá™üá∫ –ï–≤—Ä–æ–ø–∞ (‚Ç¨)")),h("div",null,h("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"–ü–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"),h("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"iPhone 15, MacBook Pro...",className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-blue-500 focus:outline-none"})),h("div",null,h("label",{className:"block text-sm font-medium text-slate-700 mb-2"},`–í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (${f.length})`),h("select",{value:l?.name||"",onChange:e=>{const t=f.find(t=>t.name===e.target.value);r(t),n([])},size:6,className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-blue-500 focus:outline-none"},h("option",{value:"",disabled:!0},"-- –í—ã–±–µ—Ä–∏—Ç–µ --"),...f.map(e=>h("option",{key:e.name,value:e.name},`${e.name} (${e.year||"?"})`)))),l&&h("div",null,h("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"–í–∏–¥—ã —Ä–∞–±–æ—Ç"),h("div",{className:"grid grid-cols-2 gap-2"},...b.filter(e=>l.service_parts?.[e.id]).map(e=>{const t=N(l,e.id),a=o.includes(e.id),s="UA"===p?"UAH":"EUR";return h("button",{key:e.id,disabled:!t,onClick:()=>{n(a?o.filter(t=>t!==e.id):[...o,e.id])},className:cn("p-3 rounded-xl border-2 text-left transition-all",!t&&"opacity-50 cursor-not-allowed",a?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300")},h("div",{className:"flex items-center gap-2"},h("span",{className:"text-xl"},e.icon),h("div",null,h("p",{className:"font-medium text-sm"},e.name),h("p",{className:"text-xs text-slate-500"},t?formatPrice(t.price,s):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"))))})),0===Object.keys(l.service_parts||{}).length&&h("p",{className:"text-center text-slate-500 py-4"},"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–ø—á–∞—Å—Ç—è—Ö –¥–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞")),l&&h("div",{className:"grid grid-cols-2 gap-4"},h("div",null,h("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"–†–∞–±–æ—Ç–∞ –∑–∞ —É—Å–ª—É–≥—É (‚Ç¥)"),h("input",{type:"number",value:i,onChange:e=>c(Number(e.target.value)),className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-blue-500 focus:outline-none"})),h("div",null,h("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"–ù–∞—Ü–µ–Ω–∫–∞ (%)"),h("input",{type:"number",value:d,onChange:e=>m(Number(e.target.value)),className:"w-full px-4 py-2 rounded-xl border border-slate-200 focus:border-blue-500 focus:outline-none"}))),v&&h("div",{className:"p-5 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border-2 border-blue-200"},h("h3",{className:"font-bold text-slate-800 mb-4 text-lg"},"UA"===p?"üìä –ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç (UA)":"üìä –ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç (EU)"),h("div",{className:"space-y-2 text-sm mb-4"},...v.repairDetails.map(e=>h("div",{key:e.id,className:"flex justify-between items-center p-2 bg-white rounded"},h("span",{className:"text-slate-600"},e.name),h("span",{className:"font-medium text-blue-600"},formatPrice(e.price,v.currency))))),h("div",{className:"space-y-2 text-sm border-t border-slate-200 pt-4"},h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"üí∞ –ó–∞–ø—á–∞—Å—Ç–∏:"),h("span",{className:"font-medium"},formatPrice(v.partsCost,v.currency))),h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},"UA"===p?`üîß –†–∞–±–æ—Ç–∞ (${o.length}x${i}‚Ç¥):`:`üîß –†–∞–±–æ—Ç–∞ (${o.length}x‚Ç¨${Math.round(i*RATES.UAH_TO_EUR)}):`),h("span",{className:"font-medium"},formatPrice(v.labor,v.currency))),h("div",{className:"flex justify-between border-t pt-2"},h("span",{className:"text-slate-600"},"üìù –ü–æ–¥–∏—Ç–æ–≥:"),h("span",{className:"font-semibold"},formatPrice(v.subtotal,v.currency))),h("div",{className:"flex justify-between"},h("span",{className:"text-slate-600"},`üìà –ù–∞—Ü–µ–Ω–∫–∞ ${d}%:`),h("span",{className:"font-medium text-green-600"},`+${formatPrice(v.marginAmount,v.currency)}`))),h("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg text-white mt-4"},h("span",{className:"font-bold text-lg"},"üíµ –ò–¢–û–ì–û:"),h("div",{className:"text-right"},h("span",{className:"font-bold text-2xl"},formatPrice(v.total,v.currency)),h("p",{className:"text-xs text-blue-100"},"UA"===p?`‚âà ${formatPrice(convertPrice(v.total,"UAH","USD"),"USD")}`:`‚âà ${formatPrice(convertPrice(v.total,"EUR","UAH"),"UAH")}`)))))))},KeyCombinationsPanel=({onClose:e})=>{const[t,a]=useState(null),[s,l]=useState("iphone"),[r,o]=useState("dfu_mode");if(useEffect(()=>{fetch("/data/key_combinations.json").then(e=>e.json()).then(e=>a(e)).catch(e=>console.error("Failed to load key combinations:",e))},[]),!t)return h(Modal,{title:"‚å®Ô∏è –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à",subtitle:"–ó–∞–≥—Ä—É–∑–∫–∞...",onClose:e,color:"indigo"},h("div",{className:"p-8 text-center"},h("div",{className:"w-10 h-10 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto"})));const n={iphone:[{id:"dfu_mode",name:"üîß DFU Mode"},{id:"recovery_mode",name:"üîÑ Recovery Mode"},{id:"force_restart",name:"üîÉ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞"},{id:"exit_dfu",name:"üö™ –í—ã—Ö–æ–¥ –∏–∑ DFU"}],ipad:[{id:"dfu_mode",name:"üîß DFU Mode"},{id:"recovery_mode",name:"üîÑ Recovery Mode"}],mac:[{id:"startup_modes",name:"üöÄ –†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞"},{id:"dfu_mode",name:"üîß DFU Mode"},{id:"diagnostics",name:"ü©∫ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"}],apple_watch:[{id:"dfu_mode",name:"üîß DFU Mode"},{id:"force_restart",name:"üîÉ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞"}]},i=t[s],c=i?.[r],d=e=>e?h("div",{className:"space-y-4"},e.steps&&h("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl border border-indigo-200"},h("h4",{className:"font-bold text-indigo-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-indigo-200 rounded-lg flex items-center justify-center"},"üìù"),"–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"),h("ol",{className:"space-y-2"},...e.steps.map((e,t)=>h("li",{key:t,className:"flex items-start gap-3 text-sm text-slate-700 p-2 bg-white/80 rounded-lg"},h("span",{className:"w-6 h-6 bg-indigo-500 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0"},t+1),h("span",null,e))))),e.steps_short&&h("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-200"},h("h4",{className:"font-bold text-emerald-800 mb-2 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-emerald-200 rounded-lg flex items-center justify-center"},"‚ö°"),"–ë—ã—Å—Ç—Ä–∞—è —Å—Ö–µ–º–∞"),h("p",{className:"font-mono text-sm bg-white/80 p-3 rounded-lg text-emerald-700 font-semibold"},e.steps_short)),e.notes&&h("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200"},h("h4",{className:"font-bold text-amber-800 mb-2 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-amber-200 rounded-lg flex items-center justify-center"},"üí°"),"–ü—Ä–∏–º–µ—á–∞–Ω–∏—è"),h("ul",{className:"space-y-1"},...e.notes.map((e,t)=>h("li",{key:t,className:"text-sm text-amber-700 flex items-start gap-2"},h("span",null,"‚Ä¢"),e)))),e.alternative_method&&h("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200"},h("h4",{className:"font-bold text-slate-800 mb-2"},"üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥"),h("ol",{className:"space-y-1 text-sm text-slate-600"},...e.alternative_method.map((e,t)=>h("li",{key:t},`${t+1}. ${e}`)))),e.applies_to&&h("div",{className:"p-3 bg-slate-100 rounded-lg"},h("p",{className:"text-xs text-slate-500 mb-2"},"–ü—Ä–∏–º–µ–Ω–∏–º–æ –∫:"),h("div",{className:"flex flex-wrap gap-1"},...e.applies_to.slice(0,10).map((e,t)=>h("span",{key:t,className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs"},e)),e.applies_to.length>10&&h("span",{className:"text-xs text-slate-400"},"+"+(e.applies_to.length-10))))):null;return h(Modal,{title:"‚å®Ô∏è –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à",subtitle:"DFU, Recovery, Diagnostics —Ä–µ–∂–∏–º—ã",onClose:e,color:"indigo"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50"},h("div",{className:"flex gap-2 mb-3"},...[{id:"iphone",name:"üì± iPhone",icon:"üì±"},{id:"ipad",name:"üìü iPad",icon:"üìü"},{id:"mac",name:"üíª Mac",icon:"üíª"},{id:"apple_watch",name:"‚åö Watch",icon:"‚åö"}].map(e=>h("button",{key:e.id,onClick:()=>{l(e.id),o(n[e.id]?.[0]?.id||"dfu_mode")},className:cn("px-4 py-2 rounded-xl font-medium text-sm transition-all",s===e.id?"bg-indigo-500 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-100")},e.name))),h("div",{className:"flex gap-2 overflow-x-auto"},...(n[s]||[]).map(e=>h("button",{key:e.id,onClick:()=>o(e.id),className:cn("px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap transition-all",r===e.id?"bg-indigo-100 text-indigo-700":"bg-white text-slate-500 hover:bg-slate-100")},e.name)))),h("div",{className:"flex-1 overflow-y-auto p-4"},c?.title&&h("h2",{className:"text-xl font-bold text-slate-800 mb-2"},c.title),c?.description&&h("p",{className:"text-sm text-slate-600 mb-4"},c.description),(()=>{if("mac"!==s||"startup_modes"!==r)return null;const e=c;return e?h("div",{className:"space-y-6"},e.intel_macs&&h("div",{className:"bg-white rounded-xl shadow p-5"},h("h3",{className:"font-bold text-blue-800 mb-4 flex items-center gap-2"},h("span",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},"üîµ"),"Intel Mac (–¥–æ 2020)"),h("p",{className:"text-sm text-slate-600 mb-4"},e.intel_macs.description),h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},...Object.entries(e.intel_macs.combinations||{}).map(([e,t])=>h("div",{key:e,className:"p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors"},h("p",{className:"font-semibold text-slate-800 text-sm"},t.title),h("p",{className:"font-mono text-indigo-600 text-sm font-bold my-1"},t.keys),h("p",{className:"text-xs text-slate-500"},t.description))))),e.apple_silicon&&h("div",{className:"bg-white rounded-xl shadow p-5"},h("h3",{className:"font-bold text-purple-800 mb-4 flex items-center gap-2"},h("span",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center"},"üü£"),"Apple Silicon Mac (M1/M2/M3/M4/M5)"),h("p",{className:"text-sm text-slate-600 mb-4"},e.apple_silicon.description),h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},...Object.entries(e.apple_silicon.combinations||{}).map(([e,t])=>h("div",{key:e,className:"p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors"},h("p",{className:"font-semibold text-purple-800 text-sm"},t.title),h("p",{className:"font-mono text-purple-600 text-sm font-bold my-1"},t.keys),h("p",{className:"text-xs text-slate-500"},t.description)))),e.apple_silicon.notes&&h("div",{className:"mt-4 p-3 bg-amber-50 rounded-lg"},h("p",{className:"text-xs font-semibold text-amber-800 mb-1"},"‚ö†Ô∏è –í–∞–∂–Ω–æ:"),h("ul",{className:"text-xs text-amber-700 space-y-1"},...e.apple_silicon.notes.map((e,t)=>h("li",{key:t},`‚Ä¢ ${e}`)))))):null})(),(()=>{if("mac"!==s||"diagnostics"!==r)return null;const e=c;return e?h("div",{className:"space-y-6"},h("div",{className:"bg-white rounded-xl shadow p-5"},h("h3",{className:"font-bold text-slate-800 mb-4"},"ü©∫ Apple Diagnostics"),h("p",{className:"text-sm text-slate-600 mb-4"},e.description),e.intel_macs&&h("div",{className:"mb-4 p-4 bg-blue-50 rounded-xl"},h("p",{className:"font-semibold text-blue-800 mb-2"},"üîµ Intel Mac"),h("ol",{className:"text-sm text-slate-700 space-y-1"},...e.intel_macs.steps.map((e,t)=>h("li",{key:t},`${t+1}. ${e}`))),e.intel_macs.alternative&&h("p",{className:"text-xs text-slate-500 mt-2"},`–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: ${e.intel_macs.alternative}`)),e.apple_silicon&&h("div",{className:"mb-4 p-4 bg-purple-50 rounded-xl"},h("p",{className:"font-semibold text-purple-800 mb-2"},"üü£ Apple Silicon"),h("ol",{className:"text-sm text-slate-700 space-y-1"},...e.apple_silicon.steps.map((e,t)=>h("li",{key:t},`${t+1}. ${e}`)))),e.error_code_categories&&h("div",{className:"mt-4 p-3 bg-slate-100 rounded-xl"},h("h4",{className:"font-semibold text-slate-700 mb-2 text-sm"},"üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–¥–æ–≤:"),h("div",{className:"flex flex-wrap gap-2"},...Object.entries(e.error_code_categories).slice(0,10).map(([e,t])=>h("span",{key:e,className:"px-2 py-1 rounded text-xs font-mono "+("critical"===t.severity?"bg-red-200 text-red-800":"high"===t.severity?"bg-orange-200 text-orange-800":"bg-yellow-200 text-yellow-800")},`${e}: ${t.category}`)))),e.error_codes&&h("div",{className:"mt-4"},h("h4",{className:"font-bold text-red-800 mb-3"},`üö® –ö–æ–¥—ã –æ—à–∏–±–æ–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (${Object.keys(e.error_codes).length})`),h("div",{className:"max-h-80 overflow-y-auto p-2 bg-slate-50 rounded-xl"},h("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2"},...Object.entries(e.error_codes).map(([e,t])=>h("div",{key:e,className:"p-2 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},h("p",{className:"font-mono font-bold text-red-600 text-sm"},e),h("p",{className:"text-xs text-slate-600 line-clamp-2"},t)))))))):null})(),"mac"!==s||"startup_modes"!==r&&"diagnostics"!==r?h("div",{className:"space-y-6"},c?.models&&Object.entries(c.models).map(([e,t])=>h("div",{key:e,className:"bg-white rounded-xl shadow p-5"},h("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-lg flex items-center justify-center text-sm"},e.includes("8")?"8+":e.includes("7")?"7":e.includes("6")?"6":"üì±"),e.replace(/_/g," ")),t.chip_generation&&h("p",{className:"text-xs text-slate-500 mb-3"},`–ü–æ–∫–æ–ª–µ–Ω–∏–µ —á–∏–ø–∞: ${t.chip_generation}`),d(t))),!c?.models&&c?.steps&&d(c)):null,t.quick_reference&&h("div",{className:"mt-6 p-5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl text-white"},h("h3",{className:"font-bold mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center"},"üìã"),"–ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞"),h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},h("div",{className:"p-3 bg-white/10 rounded-lg"},h("p",{className:"text-white/80 text-xs mb-1"},"iPhone DFU (A11+)"),h("p",{className:"font-mono text-sm font-semibold"},t.quick_reference.iphone_dfu_quick?.A11_and_newer)),h("div",{className:"p-3 bg-white/10 rounded-lg"},h("p",{className:"text-white/80 text-xs mb-1"},"Mac Recovery (Intel)"),h("p",{className:"font-mono text-sm font-semibold"},t.quick_reference.mac_recovery_quick?.intel)),h("div",{className:"p-3 bg-white/10 rounded-lg"},h("p",{className:"text-white/80 text-xs mb-1"},"Mac Recovery (Apple Silicon)"),h("p",{className:"font-mono text-sm font-semibold"},t.quick_reference.mac_recovery_quick?.apple_silicon)),h("div",{className:"p-3 bg-white/10 rounded-lg"},h("p",{className:"text-white/80 text-xs mb-1"},"Mac Diagnostics (Intel)"),h("p",{className:"font-mono text-sm font-semibold"},t.quick_reference.mac_diagnostics_quick?.intel)))))))},KnowledgeBasePanel=({knowledgeData:e,onClose:t})=>{const[a,s]=useState("tristar_hydra");if(!e)return h(Modal,{title:"üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π",onClose:t,color:"blue"},h("div",{className:"p-8 text-center text-gray-500"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π..."));const l={tristar_hydra:{name:"‚ö° Tristar/Hydra",key:"tristar_hydra"},baseband:{name:"üì∂ Baseband",key:"baseband"},touch_ic:{name:"üëÜ Touch IC",key:"touch_ic"},water_damage:{name:"üíß –ó–∞–ª–∏—Ç–∏–µ",key:"water_damage"},nand_programming:{name:"üíæ NAND",key:"nand_programming"},tools_supplies:{name:"üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",key:"tools_supplies"}},r=e?.[l[a]?.key]||{};return h(Modal,{title:"üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π",subtitle:"–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–µ–º–æ–Ω—Ç–∞",onClose:t,color:"green"},h("div",{className:"flex flex-col h-[70vh]"},h("div",{className:"p-4 border-b bg-slate-50"},h("div",{className:"flex gap-2 flex-wrap"},...Object.entries(l).map(([e,t])=>h("button",{key:e,onClick:()=>s(e),className:cn("px-3 py-1.5 rounded-lg font-medium text-sm",a===e?"bg-emerald-500 text-white":"bg-white text-slate-600")},t.name)))),h("div",{className:"flex-1 overflow-y-auto p-6"},h("div",{className:"prose prose-sm max-w-none"},r.description&&h("p",{className:"text-slate-700 mb-4"},r.description),r.symptoms&&h("div",{className:"mb-4"},h("h3",{className:"font-bold text-red-600 mb-2"},"‚ùå –°–∏–º–ø—Ç–æ–º—ã"),h("ul",{className:"space-y-1"},...(Array.isArray(r.symptoms)?r.symptoms:[]).map((e,t)=>h("li",{key:t,className:"text-sm text-slate-700"},e)))),r.diagnosis&&h("div",{className:"mb-4"},h("h3",{className:"font-bold text-blue-600 mb-2"},"üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"),h("ul",{className:"space-y-1"},...(Array.isArray(r.diagnosis)?r.diagnosis:[r.diagnosis]).map((e,t)=>h("li",{key:t,className:"text-sm text-slate-700"},"string"==typeof e?e:JSON.stringify(e))))),r.solution&&h("div",{className:"mb-4 p-4 bg-green-50 rounded-xl"},h("h3",{className:"font-bold text-green-600 mb-2"},"‚úÖ –†–µ—à–µ–Ω–∏–µ"),h("p",{className:"text-sm text-green-800"},"string"==typeof r.solution?r.solution:JSON.stringify(r.solution))),r.tools&&h("div",{className:"mb-4"},h("h3",{className:"font-bold text-slate-700 mb-2"},"üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"),h("div",{className:"flex flex-wrap gap-2"},...(Array.isArray(r.tools)?r.tools:[]).map((e,t)=>h("span",{key:t,className:"px-2 py-1 bg-slate-100 rounded text-xs"},e)))),r.notes&&h("div",{className:"p-4 bg-amber-50 rounded-xl"},h("p",{className:"text-sm text-amber-800"},`üí° ${r.notes}`))))))},DeviceCard=({device:e,onSelect:t,ukrainePrices:a})=>{const s=getCategoryIcon(e.category),l=e.service_parts&&Object.keys(e.service_parts).length>0,r=l?Object.keys(e.service_parts).length:0,o=e.device_icon||e.device_icon_small,n=useMemo(()=>!(!l||!a)&&Object.values(e.service_parts).some(e=>e.article&&a[e.article]),[e,a,l]),i=useMemo(()=>{if(!n)return null;let t=0;return Object.values(e.service_parts).forEach(e=>{e.article&&a[e.article]&&(t+=a[e.article].price_uah||0)}),t>0?t:null},[e,a,n]),c=useMemo(()=>{if(!a||!e.name)return null;const t=(e.name||"").toLowerCase(),s=Object.entries(a).find(([a,s])=>{const l=(s.description||"").toLowerCase();return l.includes("logic board")&&(l.includes(t)||"iPhone"===e.category&&l.includes("iphone")&&t.includes(l.match(/iphone\s*\d+/)?.[0]||"xxx"))});return s?{article:s[0],price:s[1].price_uah,desc:s[1].description}:null},[a,e]),d=e.repairability?e.repairability>=7?{icon:"‚úÖ",text:"–õ–µ–≥–∫–∏–π",color:"text-green-600"}:e.repairability>=4?{icon:"‚ö†Ô∏è",text:"–°—Ä–µ–¥–Ω–∏–π",color:"text-yellow-600"}:{icon:"üî¥",text:"–°–ª–æ–∂–Ω—ã–π",color:"text-red-600"}:null,[m,p]=useState(!1);return h("div",{onClick:a=>{a.stopPropagation(),console.log("%c DeviceCard clicked: "+e.name,"background: green; color: white; font-size: 14px;"),console.log("Device data:",JSON.stringify(e,null,2).substring(0,500)),"function"==typeof t?(t(e),console.log("%c onSelect called successfully","background: blue; color: white;")):console.error("onSelect is not a function!",t)},className:(e.year?e.year>=2025?"bg-pink-50":e.year>=2024?"bg-purple-50":e.year>=2021?"bg-blue-50":e.year>=2018?"bg-emerald-50":"bg-amber-50":"bg-slate-50")+" rounded-2xl border border-slate-200 p-4 hover:border-indigo-400 hover:shadow-xl cursor-pointer transition-all duration-200 group relative overflow-hidden"},h("div",{className:"absolute -top-6 -right-6 w-16 h-16 bg-gradient-to-br from-indigo-200/30 to-purple-300/30 rounded-full blur-xl group-hover:scale-150 transition-transform duration-500"}),h("div",{className:"flex items-start justify-between gap-3 mb-3 relative"},h("div",{className:"flex-1"},h("div",{className:"flex flex-wrap gap-1.5 mb-2"},h("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold bg-white/80 text-indigo-700 shadow-sm"},e.category),e.year&&h("span",{className:cn("px-2 py-0.5 rounded-full text-xs font-bold shadow-sm",e.year>=2025?"bg-gradient-to-r from-fuchsia-500 to-pink-500 text-white":e.year>=2024?"bg-violet-500 text-white":e.year>=2021?"bg-blue-500 text-white":"bg-white/80 text-slate-700")},e.year),n&&h("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-green-500 text-white shadow-sm animate-pulse"},"üí∞"),e.charging_ic&&h("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-yellow-400 text-yellow-900 shadow-sm"},"‚ö°"),e.board_numbers?.length>0&&h("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-500 text-white shadow-sm"},"üñ•Ô∏è")),h("h3",{className:"font-bold text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-2"},e.name),e.model&&h("p",{className:"text-xs text-slate-500 mt-1 font-mono truncate"},(e.model||"").split("/")[0])),h("div",{className:"flex flex-col items-center"},o&&!m?h("div",{className:"relative w-16 h-16 group-hover:scale-110 transition-transform"},h("img",{src:e.device_icon_small||e.device_icon,alt:e.name,className:"w-full h-full object-contain drop-shadow-md rounded-lg",loading:"lazy",onError:()=>p(!0)}),e.icon_source&&h("span",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full text-[8px] flex items-center justify-center bg-white shadow border border-slate-200",title:`Source: ${e.icon_source}`},"ifixit"===e.icon_source?"üîß":"pngimg"===e.icon_source?"üñºÔ∏è":"üì±")):h("span",{className:"text-4xl drop-shadow-md group-hover:scale-110 transition-transform"},s),d&&h("span",{className:`text-xs font-semibold ${d.color} mt-1`},d.icon))),e.processor&&h("div",{className:"mb-3"},h("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg shadow-md"},h("span",{className:"text-white/80 text-xs"},"üß†"),h("span",{className:"text-white font-bold text-sm"},e.processor))),e.model&&h("div",{className:"mb-2"},h("div",{className:"flex flex-wrap gap-1"},...(e.model||"").split("/").filter(Boolean).map((e,t)=>h("span",{key:t,className:"px-2 py-0.5 bg-slate-100/90 text-slate-600 rounded text-xs font-mono"},e.trim())))),e.board_numbers?.length>0&&h("div",{className:"mb-2"},h("div",{className:"flex flex-wrap gap-1"},h("span",{className:"text-xs text-purple-500"},"üñ•Ô∏è"),...(e.board_numbers||[]).slice(0,2).map((e,t)=>h("span",{key:t,className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 rounded text-xs font-mono border border-purple-200"},e)),(e.board_numbers?.length||0)>2&&h("span",{className:"px-1.5 py-0.5 text-xs text-slate-400 bg-white/50 rounded"},"+"+(e.board_numbers.length-2)))),c&&h("div",{className:"mb-2 p-1.5 bg-green-50 rounded-lg border border-green-200"},h("div",{className:"flex items-center justify-between text-xs"},h("span",{className:"text-green-700"},"üí∞ –ü–ª–∞—Ç–∞:"),h("span",{className:"font-bold text-green-800"},formatPrice(c.price,"UAH")))),e.charging_ic&&h("div",{className:"mb-3 p-2 bg-yellow-100/80 rounded-lg"},h("div",{className:"flex items-center gap-2 text-xs"},h("span",{className:"text-yellow-700"},"‚ö° IC:"),h("span",{className:"font-bold text-yellow-800"},e.charging_ic?.main||"N/A"))),h("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200/50"},h("div",{className:"flex items-center gap-2 text-xs"},l&&h("div",{className:"flex items-center gap-1 px-2 py-1 bg-white/70 rounded-full"},h("span",null,"üîß"),h("span",{className:"font-semibold text-slate-700"},`${r}`)),i&&h("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 rounded-full"},h("span",null,"üí∞"),h("span",{className:"font-bold text-green-700"},formatPrice(i,"UAH"))),e.common_issues?.length>0&&h("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 rounded-full"},h("span",null,"‚ö†Ô∏è"),h("span",{className:"font-semibold text-red-700"},e.common_issues?.length||0))),h("span",{className:"text-indigo-600 text-sm font-bold group-hover:translate-x-1 transition-transform flex items-center gap-1"},"–î–µ—Ç–∞–ª–∏",h("span",{className:"text-lg"},"‚Üí"))))},DeviceDetailsView=({device:e,onBack:t,ukrainePrices:a,onSelectItem:s,icData:l,measurementsData:r,compatibilityData:o})=>{const[n,i]=useState("info"),[c,d]=useState("UA"),[m,p]=useState(null);if(useEffect(()=>(console.log("%c DeviceDetailsView MOUNTED","background: green; color: white; font-size: 14px;",e?.name),()=>console.log("%c DeviceDetailsView UNMOUNTED","background: red; color: white;")),[e?.name]),!e)return AIHealer.log(new Error("DeviceDetailsView: device is null/undefined"),{component:"DeviceDetailsView",action:"render"}),h("div",{className:"p-8 text-center"},h("p",{className:"text-red-500 mb-4"},"‚ùå –û—à–∏–±–∫–∞: —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),h("button",{onClick:t,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg"},"‚Üê –ù–∞–∑–∞–¥"));if(m)return h("div",{className:"p-6 bg-red-50 rounded-xl"},h("p",{className:"text-red-600 font-bold text-lg mb-2"},"‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"),h("p",{className:"text-red-500 text-sm mb-3"},m),h("div",{className:"flex gap-3"},h("button",{onClick:()=>p(null),className:"px-4 py-2 bg-orange-500 text-white rounded-lg"},"üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"),h("button",{onClick:t,className:"px-4 py-2 bg-gray-500 text-white rounded-lg"},"‚Üê –ù–∞–∑–∞–¥")));console.log("%c DeviceDetailsView rendering:","background: purple; color: white;",e.name);const u=e.service_parts||{};console.log("serviceParts keys:",Object.keys(u));const x=Object.keys(u).length>0,g={battery:"üîã –ë–∞—Ç–∞—Ä–µ—è",display:"üì± –î–∏—Å–ø–ª–µ–π",rear_camera:"üì∑ –ó–∞–¥–Ω—è—è –∫–∞–º–µ—Ä–∞",front_camera:"ü§≥ –§—Ä–æ–Ω—Ç. –∫–∞–º–µ—Ä–∞",speaker:"üîä –î–∏–Ω–∞–º–∏–∫",taptic_engine:"üì≥ Taptic Engine",keyboard:"‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞",charging_port:"‚ö° –†–∞–∑—ä—ë–º –∑–∞—Ä—è–¥–∫–∏",logic_board:"üñ•Ô∏è –ü–ª–∞—Ç–∞",trackpad:"üñ±Ô∏è –¢—Ä–µ–∫–ø–∞–¥",top_case:"‚å®Ô∏è Top Case"},b=useMemo(()=>{try{if(!l)return[];const t=[];return["charging_ics","power_ics","audio_ics","baseband_ics","wifi_bt_ics","biometric_ics"].forEach(a=>{(l[a]||[]).forEach(s=>{s.compatible_devices?.some(t=>e.name?.includes(t)||t.includes((e.name||"").split(" ").slice(0,2).join(" ")))&&t.push({...s,category:a})})}),t}catch(e){return AIHealer.log(e,{component:"DeviceDetailsView",action:"deviceICs calculation"}),[]}},[e,l]),f=useMemo(()=>{try{return x?Object.entries(u).map(([e,t])=>{const s=a?.[t?.article],l=s?.price_uah||(t?.price_usd?t.price_usd*RATES.USD_TO_UAH:null),r=t?.price_usd?.91*t.price_usd:l?l*RATES.UAH_TO_EUR:null;return{type:e,label:g[e]||e.replace("_"," "),...t,price_uah:l,price_eur:r,price_usd:t?.price_usd||(l?l*RATES.UAH_TO_USD:null)}}):[]}catch(e){return AIHealer.log(e,{component:"DeviceDetailsView",action:"partsWithPrices calculation"}),[]}},[u,a]),N=useMemo(()=>r?.power_rails?.rails?Object.entries(r.power_rails.rails).filter(([t,a])=>!a.models||"All iPhone"===a.models||e.name.toLowerCase().includes("iphone")||a.models.toLowerCase().includes(e.category.toLowerCase())).map(([e,t])=>({id:e,...t})):[],[e,r]),v=useMemo(()=>{if(!o)return null;const t={cameras:[],displays:[],batteries:[]},a=e=>e?Array.isArray(e)?e.filter(Boolean):"string"==typeof e?[e]:"object"==typeof e?Array.isArray(e.compatible)?a(e.compatible):Array.isArray(e.devices)?a(e.devices):Array.isArray(e.models)?a(e.models):Object.values(e).reduce((e,t)=>e.concat(a(t)),[]):[]:[];return o.rear_cameras&&Object.entries(o.rear_cameras).forEach(([s,l])=>{const r=a(l.compatible||l.devices||l.models);r.some(t=>e.name.includes(t))&&t.cameras.push({type:"rear",...l,compatibleWith:r})}),o.front_cameras&&Object.entries(o.front_cameras).forEach(([s,l])=>{const r=a(l);r.some(t=>e.name.includes(t))&&t.cameras.push({type:"front",compatibleWith:r})}),t},[e,o]);return h("div",{className:"space-y-4 pb-10"},h("div",{className:"flex items-start gap-4"},h("button",{onClick:t,className:"w-12 h-12 rounded-xl bg-white shadow-lg flex items-center justify-center hover:shadow-xl"},h(Icons.Back)),h("div",{className:"flex-1"},h("h1",{className:"text-xl font-bold text-gray-800"},e.name),h("p",{className:"text-sm text-gray-500"},e.model))),h("div",{className:"flex flex-wrap gap-2"},e.year&&h("span",{className:"px-3 py-1 bg-white rounded-xl shadow text-sm"},`üìÖ ${e.year}`),e.processor&&h("span",{className:"px-3 py-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl shadow text-sm"},e.processor),...(e.board_numbers||[]).slice(0,2).map((e,t)=>h("span",{key:t,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-xl text-sm"},e))),h("div",{className:"flex gap-2 overflow-x-auto pb-2"},...[{id:"info",name:"üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"},{id:"parts",name:"üîß –ó–∞–ø—á–∞—Å—Ç–∏"},{id:"chips",name:"üîå –ú–∏–∫—Ä–æ—Å—Ö–µ–º—ã"},{id:"diagnostics",name:"‚ö° –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"},{id:"compatibility",name:"üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å"}].map(e=>h("button",{key:e.id,onClick:()=>i(e.id),className:cn("px-4 py-2 rounded-xl font-medium whitespace-nowrap text-sm transition-all",n===e.id?"bg-indigo-500 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-100")},e.name))),"info"===n&&h("div",{className:"space-y-4"},h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-4"},"üìã –û–±–∑–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"),h("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3"},e.year&&h("div",{className:"p-3 bg-slate-50 rounded-xl"},h("p",{className:"text-xs text-slate-500"},"üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞"),h("p",{className:"font-bold text-slate-800"},e.year)),e.model&&h("div",{className:"p-3 bg-slate-50 rounded-xl"},h("p",{className:"text-xs text-slate-500"},"üì± –ú–æ–¥–µ–ª—å"),h("p",{className:"font-bold text-slate-800 text-sm"},(e.model||"").split("/")[0])),e.processor&&h("div",{className:"p-3 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl"},h("p",{className:"text-xs text-purple-600"},"üß† –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä"),h("p",{className:"font-bold text-purple-800"},e.processor)),e.architecture&&h("div",{className:"p-3 bg-slate-50 rounded-xl"},h("p",{className:"text-xs text-slate-500"},"‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"),h("p",{className:"font-bold text-slate-800 text-sm"},e.architecture)),e.charging_ic&&h("div",{className:"p-3 bg-yellow-50 rounded-xl"},h("p",{className:"text-xs text-yellow-700"},"‚ö° Charging IC"),h("p",{className:"font-bold text-yellow-800"},e.charging_ic.main)),e.connector_type&&h("div",{className:"p-3 bg-slate-50 rounded-xl"},h("p",{className:"text-xs text-slate-500"},"üîå –†–∞–∑—ä—ë–º"),h("p",{className:"font-bold text-slate-800"},e.connector_type)))),(e.board_numbers?.length>0||e.emc)&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üñ•Ô∏è –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–ª–∞—Ç—ã"),h("div",{className:"space-y-3"},e.board_numbers?.length>0&&h("div",null,h("p",{className:"text-xs text-slate-500 mb-2"},"Board Numbers"),h("div",{className:"flex flex-wrap gap-2"},...(e.board_numbers||[]).map((e,t)=>h("span",{key:t,className:"px-3 py-1.5 bg-purple-100 text-purple-700 rounded-lg font-mono text-sm font-semibold"},e)))),e.emc&&h("div",{className:"flex items-center gap-2"},h("span",{className:"text-xs text-slate-500"},"EMC:"),h("span",{className:"px-2 py-1 bg-slate-100 rounded font-mono text-sm"},e.emc)))),e.common_issues?.length>0&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"‚ö†Ô∏è –¢–∏–ø–æ–≤—ã–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏"),h("ul",{className:"space-y-2"},...(e.common_issues||[]).slice(0,8).map((e,t)=>h("li",{key:t,className:"flex items-start gap-2 text-sm text-slate-700 p-2 bg-red-50 rounded-lg"},h("span",{className:"text-red-500 mt-0.5"},"‚ö°"),e)))),(e.repair_difficulty||e.repair_time||e.repairability)&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üîß –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–º–æ–Ω—Ç–µ"),h("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3"},e.repair_difficulty&&h("div",{className:"p-4 bg-slate-50 rounded-xl text-center"},h("p",{className:"text-xs text-slate-500 mb-1"},"–°–ª–æ–∂–Ω–æ—Å—Ç—å"),h("p",{className:cn("text-lg font-bold",(e.repair_difficulty||"").includes("–≠–∫—Å—Ç—Ä–µ–º–∞–ª")||(e.repair_difficulty||"").includes("Expert")?"text-red-600":(e.repair_difficulty||"").includes("–°–ª–æ–∂–Ω")||(e.repair_difficulty||"").includes("Advanced")?"text-orange-600":"text-green-600")},e.repair_difficulty)),e.repair_time&&h("div",{className:"p-4 bg-slate-50 rounded-xl text-center"},h("p",{className:"text-xs text-slate-500 mb-1"},"–í—Ä–µ–º—è"),h("p",{className:"text-lg font-bold text-blue-600"},e.repair_time)),e.repairability&&h("div",{className:"p-4 bg-slate-50 rounded-xl text-center"},h("p",{className:"text-xs text-slate-500 mb-1"},"iFixit Score"),h("p",{className:cn("text-lg font-bold",e.repairability>=7?"text-green-600":e.repairability>=4?"text-yellow-600":"text-red-600")},`${e.repairability}/10`)))),e.official_service_prices&&Object.keys(e.official_service_prices).length>0&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üçé –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å Apple (USD)"),h("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2"},...Object.entries(e.official_service_prices).map(([e,t])=>h("div",{key:e,className:"p-3 bg-blue-50 rounded-xl"},h("p",{className:"text-xs text-blue-600 capitalize"},e.replace("_"," ")),h("p",{className:"font-bold text-blue-800"},formatPrice(t,"USD")))))),e.description&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üìù –û–ø–∏—Å–∞–Ω–∏–µ"),h("p",{className:"text-sm text-slate-700"},e.description))),"parts"===n&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("div",{className:"flex justify-between items-center mb-4"},h("h2",{className:"text-lg font-bold text-gray-800"},"üîß –ó–∞–ø—á–∞—Å—Ç–∏ –∏ —Ü–µ–Ω—ã"),h("div",{className:"flex gap-1 bg-slate-100 rounded-lg p-1"},h("button",{onClick:()=>d("UA"),className:cn("px-3 py-1 rounded-md text-xs font-medium transition-all","UA"===c?"bg-yellow-400 text-yellow-900":"text-slate-600 hover:bg-slate-200")},"üá∫üá¶ UA"),h("button",{onClick:()=>d("EU"),className:cn("px-3 py-1 rounded-md text-xs font-medium transition-all","EU"===c?"bg-blue-500 text-white":"text-slate-600 hover:bg-slate-200")},"üá™üá∫ EU"))),0===f.length?h("p",{className:"text-slate-500 text-center py-4"},"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–ø—á–∞—Å—Ç—è—Ö –¥–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"):h("div",{className:"space-y-3"},...f.map((e,t)=>h("div",{key:t,onClick:()=>s({...e,type:"article"}),className:"p-3 bg-slate-50 rounded-xl hover:bg-slate-100 cursor-pointer transition-colors border border-transparent hover:border-indigo-200"},h("div",{className:"flex justify-between items-start"},h("div",{className:"flex-1"},h("p",{className:"font-semibold text-slate-800"},e.label),h("p",{className:"font-mono text-xs text-indigo-600"},e.article),e.description&&h("p",{className:"text-xs text-slate-500 truncate max-w-[200px]"},e.description)),h("div",{className:"text-right"},"UA"===c?e.price_uah?h("div",null,h("p",{className:"font-bold text-amber-600"},formatPrice(e.price_uah,"UAH")),h("p",{className:"text-xs text-slate-500"},`‚âà ${formatPrice(e.price_usd,"USD")}`)):h("p",{className:"text-sm text-slate-400"},"‚Äî"):e.price_eur?h("div",null,h("p",{className:"font-bold text-blue-600"},formatPrice(e.price_eur,"EUR")),h("p",{className:"text-xs text-slate-500"},`‚âà ${formatPrice(e.price_usd,"USD")}`)):h("p",{className:"text-sm text-slate-400"},"‚Äî"))))),h("div",{className:"mt-4 pt-4 border-t border-slate-200"},h("div",{className:"flex justify-between items-center"},h("span",{className:"text-sm text-slate-600"},"üí∞ –í—Å–µ–≥–æ –¥–µ—Ç–∞–ª–µ–π:"),h("span",{className:"font-bold text-slate-800"},f.length)),h("div",{className:"flex justify-between items-center mt-1"},h("span",{className:"text-sm text-slate-600"},"üíµ –°—É–º–º–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ):"),h("span",{className:cn("font-bold","UA"===c?"text-amber-600":"text-blue-600")},"UA"===c?formatPrice(f.reduce((e,t)=>e+(t.price_uah||0),0),"UAH"):formatPrice(f.reduce((e,t)=>e+(t.price_eur||0),0),"EUR")))))),"chips"===n&&h("div",{className:"space-y-4"},h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-4"},"üîå –û—Å–Ω–æ–≤–Ω—ã–µ –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã"),h("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},e.charging_ic&&h("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl border border-yellow-200 cursor-pointer hover:shadow-md transition-all",onClick:()=>{const t=e.charging_ic?.main?l?.charging_ics?.find(t=>t.name===e.charging_ic.main):null;t&&s({...t,type:"ic"})}},h("div",{className:"flex items-center gap-3"},h("div",{className:"w-10 h-10 rounded-lg bg-yellow-200 flex items-center justify-center"},"‚ö°"),h("div",null,h("p",{className:"text-xs text-yellow-700 font-semibold"},"Charging IC (U2/Tristar)"),h("p",{className:"font-bold text-slate-800"},e.charging_ic?.main||"Unknown"),e.charging_ic?.designation&&h("p",{className:"text-xs text-slate-500"},e.charging_ic.designation)))),e.processor&&h("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-200"},h("div",{className:"flex items-center gap-3"},h("div",{className:"w-10 h-10 rounded-lg bg-purple-200 flex items-center justify-center"},"üß†"),h("div",null,h("p",{className:"text-xs text-purple-700 font-semibold"},"–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä (SoC)"),h("p",{className:"font-bold text-slate-800"},e.processor),h("p",{className:"text-xs text-slate-500"},e.architecture||((e.processor||"").includes("M")?"Apple Silicon":"A-series"))))),e.power_ic&&h("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200"},h("div",{className:"flex items-center gap-3"},h("div",{className:"w-10 h-10 rounded-lg bg-green-200 flex items-center justify-center"},"üîã"),h("div",null,h("p",{className:"text-xs text-green-700 font-semibold"},"Power Management IC"),h("p",{className:"font-bold text-slate-800"},e.power_ic)))),e.audio_codec&&h("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-200"},h("div",{className:"flex items-center gap-3"},h("div",{className:"w-10 h-10 rounded-lg bg-blue-200 flex items-center justify-center"},"üîä"),h("div",null,h("p",{className:"text-xs text-blue-700 font-semibold"},"Audio Codec"),h("p",{className:"font-bold text-slate-800"},e.audio_codec)))))),b.length>0&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-4"},"üìã –°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ IC –∏–∑ –±–∞–∑—ã"),h("div",{className:"space-y-3"},...b.map((e,t)=>h("div",{key:t,onClick:()=>s({...e,type:"ic"}),className:"p-4 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors border border-transparent hover:border-violet-200"},h("div",{className:"flex justify-between items-start"},h("div",null,h("p",{className:"font-bold text-violet-700"},e.name),e.designation&&h("p",{className:"text-sm text-slate-600"},e.designation),h("p",{className:"text-xs text-slate-400 mt-1"},e.category.replace("_"," "))),h("div",{className:"text-right"},e.price_range&&h("p",{className:"text-sm font-semibold text-green-600"},e.price_range),e.difficulty&&h("span",{className:cn("text-xs px-2 py-0.5 rounded-full","Expert"===e.difficulty?"bg-red-100 text-red-700":"Advanced"===e.difficulty?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700")},e.difficulty))))))),0===b.length&&!e.charging_ic&&h("div",{className:"bg-slate-50 rounded-2xl p-8 text-center"},h("p",{className:"text-slate-500"},"üîç –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –º–∏–∫—Ä–æ—Å—Ö–µ–º–∞—Ö –¥–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"))),"diagnostics"===n&&h("div",{className:"space-y-4"},e.board_numbers?.length>0&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üñ•Ô∏è Board Numbers"),h("div",{className:"flex flex-wrap gap-2"},...(e.board_numbers||[]).map((e,t)=>h("span",{key:t,className:"px-3 py-1.5 bg-purple-100 text-purple-700 rounded-lg font-mono text-sm"},e))),e.emc&&h("p",{className:"text-sm text-slate-500 mt-2"},`EMC: ${e.emc}`)),e.charging_ic&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"‚ö° –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞—Ä—è–¥–∫–∏"),h("div",{className:"p-4 bg-yellow-50 rounded-xl"},h("p",{className:"font-semibold text-yellow-800 mb-2"},`IC: ${e.charging_ic?.main||"N/A"}`),h("div",{className:"text-sm text-slate-700 space-y-1"},h("p",null,"‚Ä¢ –î–∏–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º D+/D-: 0.400-0.600V"),h("p",null,"‚Ä¢ PP5V0_USB: 5.0V –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏"),h("p",null,"‚Ä¢ –¢–æ–∫ –ø–æ–∫–æ—è: 0.05-0.20A")),h("div",{className:"mt-3 p-3 bg-red-50 rounded-lg"},h("p",{className:"text-xs font-semibold text-red-700"},"‚ö†Ô∏è –°–∏–º–ø—Ç–æ–º—ã –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏:"),h("p",{className:"text-xs text-red-600"},'–ù–µ –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è, "–ê–∫—Å–µ—Å—Å—É–∞—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è", –ù–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ iTunes')))),N.length>0&&h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-3"},"üìä –®–∏–Ω—ã –ø–∏—Ç–∞–Ω–∏—è (Power Rails)"),h("div",{className:"space-y-3"},...N.slice(0,6).map(e=>h("div",{key:e.id,className:"p-3 bg-slate-50 rounded-xl"},h("div",{className:"flex justify-between items-start mb-2"},h("div",null,h("p",{className:"font-semibold text-slate-800"},e.name),h("p",{className:"text-xs text-slate-500"},e.id)),h("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-mono"},e.voltage)),h("div",{className:"grid grid-cols-2 gap-2 text-xs"},h("div",{className:"p-2 bg-blue-50 rounded"},h("p",{className:"text-blue-600"},"–î–∏–æ–¥ —Ä–µ–∂–∏–º"),h("p",{className:"font-mono text-slate-700"},e.diode_mode_normal)),h("div",{className:"p-2 bg-red-50 rounded"},h("p",{className:"text-red-600"},"–ö–ó –µ—Å–ª–∏"),h("p",{className:"font-mono text-slate-700"},e.short_threshold))))))),!e.charging_ic&&0===N.length&&h("div",{className:"bg-slate-50 rounded-2xl p-8 text-center"},h("p",{className:"text-slate-500"},"üîç –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"))),"compatibility"===n&&h("div",{className:"space-y-4"},h("div",{className:"bg-white rounded-2xl shadow-lg p-5"},h("h2",{className:"text-lg font-bold text-gray-800 mb-4"},"üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"),h("p",{className:"text-sm text-slate-600 mb-4"},"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏"),h("div",{className:"space-y-4"},h("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-200"},h("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-blue-200 rounded-lg flex items-center justify-center"},"üì∑"),"–ö–∞–º–µ—Ä—ã"),v?.cameras?.length>0?h("div",{className:"space-y-2"},...v.cameras.map((e,t)=>h("div",{key:t,className:"p-3 bg-white/80 rounded-lg"},h("p",{className:"text-sm font-semibold text-slate-700 mb-2"},("rear"===e.type?"üì∑ –ó–∞–¥–Ω—è—è":"ü§≥ –§—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è")+" –∫–∞–º–µ—Ä–∞"),e.resolution&&h("p",{className:"text-xs text-slate-500"},`–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${e.resolution}`),e.features&&h("p",{className:"text-xs text-slate-500"},`–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: ${e.features.join(", ")}`),e.compatibleWith&&h("div",{className:"mt-2"},h("p",{className:"text-xs text-slate-500 mb-1"},"–°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å:"),h("div",{className:"flex flex-wrap gap-1"},...e.compatibleWith.map((e,t)=>h("span",{key:t,className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs"},e)))),e.notes&&h("p",{className:"text-xs text-amber-600 mt-2"},`‚ö†Ô∏è ${e.notes}`)))):h("p",{className:"text-sm text-slate-500"},"–î–∞–Ω–Ω—ã–µ –æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∫–∞–º–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")),h("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl border border-purple-200"},h("h3",{className:"font-bold text-purple-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-purple-200 rounded-lg flex items-center justify-center"},"üì±"),"–î–∏—Å–ø–ª–µ–∏"),h("div",{className:"p-3 bg-white/80 rounded-lg"},h("p",{className:"text-sm text-slate-700"},"iPhone"===e.category?"–î–∏—Å–ø–ª–µ–∏ iPhone –æ–±—ã—á–Ω–æ –ù–ï –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏. True Tone —Ç—Ä–µ–±—É–µ—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.":"–î–ª—è —Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–∏—Å–ø–ª–µ–µ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–º–µ—Ä –¥–µ—Ç–∞–ª–∏."),h("div",{className:"mt-2 p-2 bg-amber-50 rounded"},h("p",{className:"text-xs text-amber-700"},"‚ö†Ô∏è –ó–∞–º–µ–Ω–∞ –¥–∏—Å–ø–ª–µ—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ True Tone –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏")))),h("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200"},h("h3",{className:"font-bold text-green-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-green-200 rounded-lg flex items-center justify-center"},"üîã"),"–ë–∞—Ç–∞—Ä–µ–∏"),h("div",{className:"p-3 bg-white/80 rounded-lg"},h("p",{className:"text-sm text-slate-700 mb-2"},"–ë–∞—Ç–∞—Ä–µ–∏ –æ–±—ã—á–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –∏–∑-–∑–∞ —Ä–∞–∑–ª–∏—á–∏–π –≤ —Ñ–æ—Ä–º–µ –∏ —Ä–∞–∑—ä—ë–º–∞—Ö."),e.service_parts?.battery&&h("div",{className:"space-y-1 text-sm"},e.service_parts.battery.article&&h("p",{className:"text-slate-600"},"–ê—Ä—Ç–∏–∫—É–ª: ",h("span",{className:"font-mono font-bold text-green-600"},e.service_parts.battery.article)),e.service_parts.battery.description&&h("p",{className:"text-slate-600"},e.service_parts.battery.description)),h("div",{className:"mt-2 p-2 bg-red-50 rounded"},h("p",{className:"text-xs text-red-700"},"‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –±–∞—Ç–∞—Ä–µ–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—é –≤ iOS –∏ –ø—Ä–æ–±–ª–µ–º–∞–º —Å Battery Health")))),e.charging_ic&&h("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl border border-yellow-200"},h("h3",{className:"font-bold text-yellow-800 mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-yellow-200 rounded-lg flex items-center justify-center"},"‚ö°"),"–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞—Ä—è–¥–∫–∏"),h("div",{className:"p-3 bg-white/80 rounded-lg"},h("div",{className:"flex items-center gap-3 mb-2"},h("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg font-mono font-bold"},e.charging_ic?.main||"N/A"),e.charging_ic.designation&&h("span",{className:"text-sm text-slate-600"},e.charging_ic.designation)),h("p",{className:"text-sm text-slate-600"},'–≠—Ç–æ—Ç IC –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–∞–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ú–∏–∫—Ä–æ—Å—Ö–µ–º—ã" –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.'))))),h("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg p-5 text-white"},h("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2"},h("span",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center"},"üí°"),"–°–æ–≤–µ—Ç—ã –ø–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏"),h("ul",{className:"space-y-2 text-sm"},h("li",{className:"flex items-start gap-2 p-2 bg-white/10 rounded-lg"},h("span",null,"‚úì"),"–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–æ–º–µ—Ä –º–æ–¥–µ–ª–∏ –∏ –∞—Ä—Ç–∏–∫—É–ª –ø–µ—Ä–µ–¥ –∑–∞–∫–∞–∑–æ–º –∑–∞–ø—á–∞—Å—Ç–µ–π"),h("li",{className:"flex items-start gap-2 p-2 bg-white/10 rounded-lg"},h("span",null,"‚úì"),"Face ID –∏ Touch ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ –∏ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è"),h("li",{className:"flex items-start gap-2 p-2 bg-white/10 rounded-lg"},h("span",null,"‚úì"),"–ö–∞–º–µ—Ä—ã iPhone 12+ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏"),h("li",{className:"flex items-start gap-2 p-2 bg-white/10 rounded-lg"},h("span",null,"‚úì"),'–ë–∞—Ç–∞—Ä–µ–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç "Service" –±–µ–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ BMS —á–∏–ø–∞')))))},RegionLookupPanel=({onClose:e})=>{const[t,a]=useState(""),[s,l]=useState(null),[r,o]=useState(null),[n,i]=useState(!0);useEffect(()=>{fetch("/data/regional_codes_extended.json").then(e=>e.json()).then(e=>{l(e),i(!1)}).catch(()=>i(!1))},[]);if(useEffect(()=>{t.length>=2?(()=>{if(!s||!t.trim())return void o(null);const e=t.trim().toUpperCase();let a=e;if(e.includes("/")){const t=e.split("/")[0];a=t.length>2?t.slice(-2):t}const l=s.regional_codes[a];o(l?{code:a,...l}:{notFound:!0,searchedCode:a})})():o(null)},[t,s]),n)return h(Modal,{title:"üåç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–≥–∏–æ–Ω",subtitle:"–ó–∞–≥—Ä—É–∑–∫–∞...",onClose:e,color:"blue"},h("div",{className:"flex justify-center py-8"},h("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})));return h(Modal,{title:"üåç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–≥–∏–æ–Ω",subtitle:"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞ –∏–∑ –Ω–æ–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏",onClose:e,color:"blue"},h("div",{className:"space-y-4"},h("div",{className:"relative"},h("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ (LL, ZA, CH) –∏–ª–∏ –ø–æ–ª–Ω—ã–π –Ω–æ–º–µ—Ä (MN6W3LL/A)...",className:"w-full px-4 py-3 rounded-xl border-2 border-blue-200 focus:border-blue-500 focus:outline-none text-lg font-mono"})),h("div",null,h("p",{className:"text-xs text-slate-500 mb-2"},"–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–¥—ã:"),h("div",{className:"flex flex-wrap gap-2"},...["LL","ZA","ZP","CH","J","KH","X","B","FB","HN"].map(e=>h("button",{key:e,onClick:()=>a(e),className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm font-mono hover:bg-blue-100 transition-colors"},e+"/A")))),r&&(r.notFound?h("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200"},h("p",{className:"text-red-700 font-semibold"},`‚ùå –ö–æ–¥ "${r.searchedCode}" –Ω–µ –Ω–∞–π–¥–µ–Ω`),h("p",{className:"text-sm text-red-600 mt-1"},"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞")):h("div",{className:"p-5 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200"},h("div",{className:"flex items-start gap-4"},h("div",{className:"w-16 h-16 rounded-xl bg-blue-500 flex items-center justify-center text-white text-2xl font-bold"},r.code),h("div",{className:"flex-1"},h("h3",{className:"text-xl font-bold text-slate-800"},r.region),h("p",{className:"text-sm text-slate-600"},r.countries?.join(", ")))),h("div",{className:"grid grid-cols-3 gap-3 mt-4"},h("div",{className:cn("p-3 rounded-lg text-center",!0===r.facetime?"bg-green-100":!1===r.facetime?"bg-red-100":"bg-yellow-100")},h("p",{className:"text-2xl"},!0===r.facetime?"‚úÖ":!1===r.facetime?"‚ùå":"‚ö†Ô∏è"),h("p",{className:"text-xs font-semibold mt-1"},"FaceTime"),h("p",{className:"text-xs text-slate-600"},!0===r.facetime?"–ï—Å—Ç—å":!1===r.facetime?"–ù–µ—Ç":"–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞")),h("div",{className:cn("p-3 rounded-lg text-center","physical_dual"===r.dual_sim?"bg-purple-100":!0===r.dual_sim?"bg-green-100":"bg-slate-100")},h("p",{className:"text-2xl"},r.dual_sim?"üì±üì±":"üì±"),h("p",{className:"text-xs font-semibold mt-1"},"Dual SIM"),h("p",{className:"text-xs text-slate-600"},"physical_dual"===r.dual_sim?"2 —Ñ–∏–∑. SIM":!0===r.dual_sim?"eSIM + SIM":"–ù–µ—Ç")),h("div",{className:cn("p-3 rounded-lg text-center",r.box_contents?.charger?"bg-green-100":"bg-slate-100")},h("p",{className:"text-2xl"},r.box_contents?.charger?"üîå":"üì¶"),h("p",{className:"text-xs font-semibold mt-1"},"–ó–∞—Ä—è–¥–∫–∞"),h("p",{className:"text-xs text-slate-600"},r.box_contents?.charger?"–í –∫–æ–º–ø–ª–µ–∫—Ç–µ":"–ù–µ –≤–∫–ª—é—á–µ–Ω–∞"))),r.notes&&h("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200"},h("p",{className:"text-sm text-yellow-800"},"üìù "+r.notes)),r.special_features&&h("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200"},h("p",{className:"text-sm font-semibold text-purple-800"},"‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:"),r.special_features.mmwave_5g&&h("p",{className:"text-sm text-purple-700 mt-1"},"‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mmWave 5G (—Ç–æ–ª—å–∫–æ –°–®–ê)")),h("div",{className:"mt-4 pt-4 border-t border-slate-200"},h("p",{className:"text-xs font-semibold text-slate-500 mb-2"},"üì¶ –í –∫–æ—Ä–æ–±–∫–µ (iPhone 12+):"),h("div",{className:"flex gap-2"},r.box_contents?.cable&&h("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs"},"üîå USB-C –∫–∞–±–µ–ª—å"),r.box_contents?.charger&&h("span",{className:"px-2 py-1 bg-green-100 rounded text-xs"},"üîã –ó–∞—Ä—è–¥–∫–∞"),r.box_contents?.earpods&&h("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs"},"üéß EarPods"))))),!r&&h("div",{className:"mt-6"},h("p",{className:"text-sm font-semibold text-slate-700 mb-3"},"üìã –í—Å–µ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã:"),h("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-slate-200"},h("table",{className:"w-full text-sm"},h("thead",{className:"bg-slate-50 sticky top-0"},h("tr",null,h("th",{className:"px-3 py-2 text-left font-semibold"},"–ö–æ–¥"),h("th",{className:"px-3 py-2 text-left font-semibold"},"–†–µ–≥–∏–æ–Ω"),h("th",{className:"px-3 py-2 text-left font-semibold"},"–°—Ç—Ä–∞–Ω—ã"),h("th",{className:"px-3 py-2 text-center font-semibold"},"FT"))),h("tbody",null,...Object.entries(s?.regional_codes||{}).map(([e,t])=>h("tr",{key:e,className:"border-t border-slate-100 hover:bg-blue-50 cursor-pointer",onClick:()=>a(e)},h("td",{className:"px-3 py-2 font-mono font-bold text-blue-600"},e+"/A"),h("td",{className:"px-3 py-2"},t.region),h("td",{className:"px-3 py-2 text-xs text-slate-600"},t.countries?.slice(0,2).join(", ")),h("td",{className:"px-3 py-2 text-center"},!0===t.facetime?"‚úÖ":!1===t.facetime?"‚ùå":"‚ö†Ô∏è")))))))))},QuickCard=({name:e,icon:t,count:a,color:s,onClick:l})=>h("button",{onClick:t=>{console.log("QuickCard clicked:",e),l&&l(t)},className:"bg-white rounded-2xl p-4 border border-slate-200 hover:border-slate-300 hover:shadow-lg transition-all text-left"},h("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${{green:"from-emerald-500 to-teal-600",amber:"from-amber-500 to-orange-600",violet:"from-violet-500 to-purple-600",red:"from-red-500 to-rose-600",blue:"from-blue-500 to-cyan-600",indigo:"from-indigo-500 to-purple-600"}[s]} flex items-center justify-center text-white mb-3`},t),h("h3",{className:"font-semibold text-slate-800"},e),a&&h("p",{className:"text-xs text-slate-500 mt-1"},a)),App=()=>{const[e,t]=useState(null);if(useEffect(()=>{const e=e=>{console.error("Global error caught:",e.error),t(e.error?.message||String(e.error))};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)},[]),e)return h("div",{className:"min-h-screen bg-red-50 p-8 flex items-center justify-center"},h("div",{className:"bg-white rounded-xl p-8 shadow-xl max-w-2xl"},h("h1",{className:"text-2xl font-bold text-red-600 mb-4"},"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞"),h("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto"},e),h("button",{onClick:()=>{t(null),window.location.reload()},className:"mt-4 px-4 py-2 bg-indigo-500 text-white rounded-lg"},"üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å")));const[a,s]=useState([]),[l,r]=useState(null),[o,n]=useState(null),[i,c]=useState(null),[d,m]=useState(null),[p,u]=useState(null),[x,g]=useState(null),[b,f]=useState(null),[N,v]=useState(null),[y,w]=useState(null),[_,k]=useState(null),[C,A]=useState(!0),[S,j]=useState(""),[M,U]=useState("all"),[P,$]=useState("all"),[D,E]=useState(null),[H,I]=useState(null),[L,O]=useState(!1),[R,T]=useState(!1),[B,F]=useState(!1),[z,V]=useState(!1),[W,q]=useState(!1),[J,Q]=useState(!1),[G,K]=useState(!1),[X,Z]=useState(!1),[Y,ee]=useState(!1);useEffect(()=>{Promise.all([fetch("/data/devices.json").then(e=>e.json()),fetch("/data/ukraine_prices.json").then(e=>e.json()).catch(()=>null),fetch("/data/logic_boards_comprehensive.json").then(e=>e.json()).catch(()=>null),fetch("/data/logic_boards_specs.json").then(e=>e.json()).catch(()=>null),fetch("/data/article_search_index.json").then(e=>e.json()).catch(()=>null),fetch("/data/error_codes.json").then(e=>e.json()).catch(()=>null),fetch("/data/ic_compatibility.json").then(e=>e.json()).catch(()=>null),fetch("/data/repair_knowledge.json").then(e=>e.json()).catch(()=>null),fetch("/data/measurements.json").then(e=>e.json()).catch(()=>null),fetch("/data/camera_compatibility.json").then(e=>e.json()).catch(()=>null),fetch("/data/regional_codes.json").then(e=>e.json()).catch(()=>null)]).then(([e,t,a,l,o,i,d,h,p,x,b])=>{s(Array.isArray(e)?e:[]),r(t),n(a),c(l),m(o),u(i),g(d),f(h),v(p),w(x),k(b?.regional_codes||null),A(!1)}).catch(e=>{console.error("Error loading data:",e),A(!1)})},[]);const te=useMemo(()=>{const e=new Set(a.map(e=>e.category).filter(Boolean));return["all",...Array.from(e).sort()]},[a]),ae=useMemo(()=>{const e=new Set(a.map(e=>e.year).filter(Boolean));return["all",...Array.from(e).sort((e,t)=>t-e)]},[a]),se=useMemo(()=>{let e=a;if("all"!==M&&(e=e.filter(e=>e.category===M)),"all"!==P&&(e=e.filter(e=>e.year===parseInt(P))),S){const t=S.toLowerCase();e=e.filter(e=>(e.name||"").toLowerCase().includes(t)||(e.model||"").toLowerCase().includes(t)||(e.processor||"").toLowerCase().includes(t)||(e.board_numbers||[]).some(e=>e.toLowerCase().includes(t)))}return e.sort((e,t)=>{if(t.year!==e.year)return(t.year||0)-(e.year||0);const a={iPhone:0,iPad:1,MacBook:2},s=a[e.category]??99,l=a[t.category]??99;return s!==l?s-l:(e.name||"").localeCompare(t.name||"")})},[a,S,M,P]),le=useMemo(()=>({devices:a.length,prices:l?Object.keys(l).length:0,boards:i?.total||(o?(o.m_series_boards?.length||0)+(o.intel_boards?.length||0):0),errors:p?(p.itunes_restore_errors?.length||0)+(p.mac_diagnostics?.length||0):0,ics:x?Object.values(x).reduce((e,t)=>e+(Array.isArray(t)?t.length:0),0):0}),[a,l,o,i,p,x]),re=useCallback(e=>{I(e)},[]);if(C)return h("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center"},h("div",{className:"text-center"},h("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h("p",{className:"text-gray-600"},"–ó–∞–≥—Ä—É–∑–∫–∞...")));if(D){console.log("App: Rendering DeviceDetailsView for:",D?.name);try{return h("div",{className:"min-h-screen bg-gray-100 p-4"},h("div",{className:"max-w-4xl mx-auto"},h(DeviceDetailsView,{device:D,onBack:()=>E(null),ukrainePrices:l,onSelectItem:re,icData:x,measurementsData:N,compatibilityData:y})),H&&h(DetailModal,{item:H,type:H.type,onClose:()=>I(null),ukrainePrices:l}))}catch(e){return console.error("App: Error rendering DeviceDetailsView:",e),h("div",{className:"min-h-screen bg-gray-100 p-8 text-center"},h("p",{className:"text-red-500 text-xl mb-4"},"‚ùå –û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞"),h("p",{className:"text-gray-600 mb-4"},String(e)),h("button",{onClick:()=>E(null),className:"px-4 py-2 bg-indigo-500 text-white rounded-lg"},"‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É"))}}return h("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-indigo-50/30 to-purple-50/20"},h("div",{className:"bg-white border-b border-gray-100 shadow-sm"},h("div",{className:"max-w-6xl mx-auto px-4 py-4"},h("div",{className:"flex items-center justify-between flex-wrap gap-4"},h("div",{className:"flex items-center gap-4"},h("img",{src:"/static/nexx-logo.png",alt:"NEXX Database",className:"h-12 md:h-14 object-contain"}),h("p",{className:"text-sm text-gray-600 font-medium hidden sm:block"},"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞ Apple")),h("div",{className:"flex flex-wrap gap-2 text-xs"},h("span",{className:"px-3 py-1.5 rounded-full bg-indigo-50 text-indigo-700 font-semibold"},`üì± ${le.devices} —É—Å—Ç—Ä–æ–π—Å—Ç–≤`),h("span",{className:"px-3 py-1.5 rounded-full bg-amber-50 text-amber-700 font-semibold"},`üí∞ ${le.prices.toLocaleString()} —Ü–µ–Ω`),h("span",{className:"px-3 py-1.5 rounded-full bg-violet-50 text-violet-700 font-semibold"},`üñ•Ô∏è ${le.boards} –ø–ª–∞—Ç`))))),h("div",{className:"max-w-6xl mx-auto px-4 py-6"},h("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-2 mb-4"},h("div",{className:"relative"},h("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥–µ–ª–∏, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É, –Ω–æ–º–µ—Ä—É –ø–ª–∞—Ç—ã...",value:S,onChange:e=>j(e.target.value),className:"w-full px-5 py-3 pl-12 rounded-xl border-0 bg-slate-50 focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),h("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"},h(Icons.Search)))),h("div",{className:"flex flex-wrap gap-4 mb-4 items-center"},h("div",{className:"flex gap-2 overflow-x-auto pb-1"},...te.map(e=>h("button",{key:e,onClick:()=>U(e),className:cn("px-3 py-1.5 rounded-xl font-medium whitespace-nowrap text-sm transition-all",M===e?"bg-indigo-500 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-100")},"all"===e?"–í—Å–µ":e))),h("div",{className:"flex items-center gap-2"},h("span",{className:"text-sm text-slate-500"},"üìÖ"),h("select",{value:P,onChange:e=>$(e.target.value),className:"px-3 py-1.5 rounded-xl bg-white text-slate-700 border border-slate-200 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500"},...ae.map(e=>h("option",{key:e,value:e},"all"===e?"–í—Å–µ –≥–æ–¥–∞":e))))),h("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3 mb-6"},h(QuickCard,{name:"–¶–µ–Ω—ã",icon:"üí∞",count:`${le.prices.toLocaleString()} –ø–æ–∑–∏—Ü–∏–π`,color:"amber",onClick:()=>O(!0)}),h(QuickCard,{name:"–ü–ª–∞—Ç—ã",icon:"üñ•Ô∏è",count:`${le.boards} –ø–ª–∞—Ç`,color:"violet",onClick:()=>T(!0)}),h(QuickCard,{name:"–û—à–∏–±–∫–∏",icon:"üö®",count:`${le.errors} –∫–æ–¥–æ–≤`,color:"red",onClick:()=>F(!0)}),h(QuickCard,{name:"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",icon:"üßÆ",count:"–†–∞—Å—á—ë—Ç —Ü–µ–Ω",color:"blue",onClick:()=>V(!0)}),h(QuickCard,{name:"–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π",icon:"üìö",count:"–ì–∞–π–¥—ã",color:"green",onClick:()=>q(!0)}),h(QuickCard,{name:"–ú–∏–∫—Ä–æ—Å—Ö–µ–º—ã",icon:"üîå",count:`${le.ics} IC`,color:"violet",onClick:()=>Q(!0)}),h(QuickCard,{name:"DFU/Recovery",icon:"‚å®Ô∏è",count:"–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏",color:"indigo",onClick:()=>K(!0)}),h(QuickCard,{name:"–†–µ–≥–∏–æ–Ω",icon:"üåç",count:"–ü–æ –∫–æ–¥—É",color:"blue",onClick:()=>Z(!0)}),h(QuickCard,{name:"AI Healer",icon:"ü§ñ",count:`${AIHealer.errors.length} –æ—à–∏–±–æ–∫`,color:AIHealer.errors.length>0?"red":"green",onClick:()=>ee(!0)})),h("p",{className:"text-slate-500 mb-3 text-sm"},`–ù–∞–π–¥–µ–Ω–æ: ${se.length}`),h("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},...se.map(e=>h(DeviceCard,{key:e.name,device:e,onSelect:E,ukrainePrices:l})))),L&&l&&h(PricesPanel,{ukrainePrices:l,logicBoardsSpecs:i,onClose:()=>O(!1),onSelectItem:re}),L&&!l&&h("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},h("div",{className:"bg-white p-6 rounded-xl text-center"},h("p",{className:"text-gray-600 mb-4"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Ü–µ–Ω..."),h("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"–ó–∞–∫—Ä—ã—Ç—å"))),R&&(o||i)&&h(LogicBoardsPanel,{logicBoards:o,logicBoardsSpecs:i,ukrainePrices:l,onClose:()=>T(!1),onSelectItem:re}),R&&!o&&!i&&h("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},h("div",{className:"bg-white p-6 rounded-xl text-center"},h("p",{className:"text-gray-600 mb-4"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç..."),h("button",{onClick:()=>T(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"–ó–∞–∫—Ä—ã—Ç—å"))),B&&p&&h(ErrorCodesPanel,{errorData:p,onClose:()=>F(!1)}),B&&!p&&h("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},h("div",{className:"bg-white p-6 rounded-xl text-center"},h("p",{className:"text-gray-600 mb-4"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫..."),h("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"–ó–∞–∫—Ä—ã—Ç—å"))),z&&h(RepairCalculatorPanel,{devices:a,ukrainePrices:l,onClose:()=>V(!1)}),W&&b&&h(KnowledgeBasePanel,{knowledgeData:b,onClose:()=>q(!1)}),W&&!b&&h("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},h("div",{className:"bg-white p-6 rounded-xl text-center"},h("p",{className:"text-gray-600 mb-4"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π..."),h("button",{onClick:()=>q(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"–ó–∞–∫—Ä—ã—Ç—å"))),J&&x&&h(ICDatabasePanel,{icData:x,onClose:()=>Q(!1),onSelectItem:re}),J&&!x&&h("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center"},h("div",{className:"bg-white p-6 rounded-xl text-center"},h("p",{className:"text-gray-600 mb-4"},"‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö IC..."),h("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"–ó–∞–∫—Ä—ã—Ç—å"))),G&&h(KeyCombinationsPanel,{onClose:()=>K(!1)}),X&&h(RegionLookupPanel,{onClose:()=>Z(!1)}),Y&&h(AIHealerPanel,{onClose:()=>ee(!1)}),H&&!D&&h(DetailModal,{item:H,type:H.type,onClose:()=>I(null),ukrainePrices:l}))};ReactDOM.createRoot(document.getElementById("app")).render(h(App));