# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Cloudflare Pages

## –ü—Ä–æ–±–ª–µ–º–∞
–°–∞–π—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–ª –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ `i18n.js`) –¥–∞–∂–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∏ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å—Ç–∞—Ä—ã–π –∫–æ–¥.

## –†–µ—à–µ–Ω–∏–µ (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–æ—Ä—É–º–æ–≤ Cloudflare)

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Service Worker
**–ü—Ä–æ–±–ª–µ–º–∞**: Service Worker –∫–µ—à–∏—Ä–æ–≤–∞–ª JS/CSS —Ñ–∞–π–ª—ã, –¥–∞–∂–µ —Å –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª—ë–Ω `public/sw.js`:
- Service Worker —Ç–µ–ø–µ—Ä—å **–Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç** —Ñ–∞–π–ª—ã —Å –≤–µ—Ä—Å–∏—è–º–∏ (`?v=...`)
- –ù–µ –∫–µ—à–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã: `i18n.js`, `database.js`, `.min.js`, `price-calculator.js`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –∫–µ—à–∞: `nexx-gsm-v2.0-20260123`

### 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Service Worker
**–í `index.html`**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö Service Workers
- Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Å –≤–µ—Ä—Å–∏–µ–π: `/sw.js?v=2.0-20260123`
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ `reg.update()` –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤
- `i18n.js`: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –¥–æ `v=10.3.0-20260123180000`
- `meta version`: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ `2026-01-23-18:00`

### 4. Cloudflare Cache Rules (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)
–ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å Cache Rule —á–µ—Ä–µ–∑ API –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è JS/CSS —Ñ–∞–π–ª–æ–≤:
- API –≤–µ—Ä–Ω—É–ª 400 Bad Request
- –§—É–Ω–∫—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Cloudflare
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: Service Worker —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω Service Worker –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è JS/CSS
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö Service Workers
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤ –¥–ª—è cache-busting
4. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω –¥–µ–ø–ª–æ–π (ID: `061ef4cf-dd4f-4c89-8d57-61ded118a4da`)
5. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Cloudflare

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- `public/sw.js` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `index.html` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –∏ –≤–µ—Ä—Å–∏–∏
- `setup-cloudflare-cache-rules.ps1` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è Cache Rules (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:

1. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã** –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è CDN
2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞** –ø–æ–ª–Ω–æ—Å—Ç—å—é (Ctrl+Shift+Delete)
3. **Hard refresh**: Ctrl+F5 (Windows) –∏–ª–∏ Cmd+Shift+R (Mac)
4. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ/–ø—Ä–∏–≤–∞—Ç–Ω—ã–π**
5. **–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Application ‚Üí Service Workers** –∏ –Ω–∞–∂–º–∏—Ç–µ "Unregister"
6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL**: `https://nexxgsm.com/?v=20260123023516`

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Service Worker –ª–æ–≥–∏–∫–∞
```javascript
// –ù–µ –∫–µ—à–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã —Å –≤–µ—Ä—Å–∏—è–º–∏ –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
const isVersionedAsset = url.search.includes('v=');
const isDynamicAsset = url.pathname.includes('i18n.js') || 
                       url.pathname.includes('database.js') || 
                       url.pathname.includes('.min.js');

if (isVersionedAsset || isDynamicAsset) {
    // –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑ —Å–µ—Ç–∏, –±–µ–∑ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
    event.respondWith(fetch(event.request));
    return;
}
```

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ—à–µ–Ω–∏–π
- [Cloudflare Community: Ensure users get updated assets](https://community.cloudflare.com/t/ensure-users-get-my-updated-assets-js-css-etc-following-a-pages-deployment/650721)
- [Cloudflare Community: Pages cache issues](https://community.cloudflare.com/t/about-the-pages-cache/380650)

## –°—Ç–∞—Ç—É—Å
‚úÖ **–†–µ—à–µ–Ω–æ**: Service Worker –æ–±–Ω–æ–≤–ª—ë–Ω, –∫–µ—à –æ—á–∏—â–µ–Ω, –¥–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω

---

**–î–∞—Ç–∞**: 2026-01-23 02:35  
**–î–µ–ø–ª–æ–π ID**: `061ef4cf-dd4f-4c89-8d57-61ded118a4da`  
**–í–µ—Ä—Å–∏—è**: `v=10.3.0-20260123180000`
