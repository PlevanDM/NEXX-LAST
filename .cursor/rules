# Cursor AI Rules for NEXX WebApp

## Project Structure
- Frontend: React + Vite
- Backend: Cloudflare Pages + Workers
- Hosting: Cloudflare Pages (nexxgsm.com)
- Repository: https://github.com/PlevanDM/nexx-webapp

## Cloudflare Configuration

### Credentials (stored in scripts, not committed)
- Global API Key: 519bdfbd2efeaa9c3a418b905202058bac2fc
- Email: dmitro.plevan@gmail.com
- Account ID: ad170d773e79a037e28f4530fd5305a5
- Project Name: nexx
- Zone: nexxgsm.com

### Available Cloudflare Services
- ✅ Cloudflare Pages (active)
- ✅ Cloudflare Workers (available)
- ✅ R2 Storage (available)
- ✅ KV Storage (available)
- ✅ D1 Database (available)

## Deployment

### Automatic Deployment
- GitHub Actions: `.github/workflows/deploy-cloudflare.yml`
- Requires: CLOUDFLARE_API_TOKEN secret in GitHub

### Manual Deployment Scripts
- `deploy-global-api.ps1` - Uses Global API Key (requires manifest)
- `deploy-wrangler-auto.ps1` - Uses wrangler (requires API Token)
- `deploy-with-manifest.ps1` - Auto-generates manifest

### Cache Management
- `purge-cloudflare-cache.ps1` - Purge CDN cache
- `check-deployment.ps1` - Check deployment status

## File Structure
- `public/` - Static assets
- `src/` - React source code
- `dist/` - Build output (deployed to Cloudflare)
- `functions/` - Cloudflare Workers functions
- `scripts/` - Build and utility scripts

## Important Files
- `public/_headers` - Cloudflare Pages headers (cache control)
- `public/_redirects` - URL redirects
- `wrangler.toml` - Cloudflare Workers/Pages config
- `index.html` - Main HTML file

## Build Commands
- `npm run build` - Build for production
- `npm run dev` - Development server
- `npm run deploy` - Build and deploy

## i18n Configuration
- Translation files: `public/static/i18n.js`
- Languages: uk, ro, en
- Cache: 1 hour (configured in `_headers`)

## API Endpoints
- `/api/booking` - Booking API
- `/api/callback` - Callback API
- `/api/price-estimate` - Price estimation
- `/api/remonline` - RemOnline integration

## When Making Changes
1. Update version in `index.html` for cache busting
2. Run `npm run build` to build
3. Use deployment script or GitHub Actions
4. Clear cache with `purge-cloudflare-cache.ps1`
5. Wait 1-2 minutes for CDN propagation
