# ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cloudflare Pages

## üìã –ü–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö–µ—à—É–≤–∞–Ω–Ω—è (_headers)

**HTML —Ñ–∞–π–ª–∏** - –Ω–µ –∫–µ—à—É—é—Ç—å—Å—è (–∑–∞–≤–∂–¥–∏ —Å–≤—ñ–∂—ñ):
```
/ ‚Üí no-cache, no-store, must-revalidate, max-age=0
/*.html ‚Üí no-cache, no-store, must-revalidate, max-age=0
```

**i18n.js** - –∫–æ—Ä–æ—Ç–∫–∏–π –∫–µ—à (1 –≥–æ–¥–∏–Ω–∞):
```
/static/i18n.js ‚Üí max-age=3600, must-revalidate
/static/i18n.min.js ‚Üí max-age=3600, must-revalidate
```

**–°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏** - –¥–æ–≤–≥–∏–π –∫–µ—à (1 —Ä—ñ–∫):
```
/static/* ‚Üí max-age=31536000, immutable
/images/* ‚Üí max-age=31536000, immutable
```

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è (_redirects)

- `/` ‚Üí –≥–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `/nexx` ‚Üí `/nexx.html` (–±–∞–∑–∞ –¥–∞–Ω–∏—Ö)
- `/api/*` ‚Üí API endpoints

## üîß –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

### –î–µ–ø–ª–æ–π
```powershell
.\deploy-global-api.ps1
```

### –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É
```powershell
.\purge-cloudflare-cache.ps1
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –¥–µ–ø–ª–æ—é
```powershell
.\check-deployment.ps1
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

1. **HTML —Ñ–∞–π–ª–∏ –Ω–µ –∫–µ—à—É—é—Ç—å—Å—è** - –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Å–≤—ñ–∂—ñ
2. **i18n.js –∫–µ—à—É—î—Ç—å—Å—è 1 –≥–æ–¥–∏–Ω—É** - –¥–ª—è –±–∞–ª–∞–Ω—Å—É –º—ñ–∂ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏
3. **–°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ –∫–µ—à—É—é—Ç—å—Å—è 1 —Ä—ñ–∫** - –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
4. **–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é** - –æ—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à —á–µ—Ä–µ–∑ `purge-cloudflare-cache.ps1`

## üêõ –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à: `.\purge-cloudflare-cache.ps1`
2. –ó–∞—á–µ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏
3. Hard refresh –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)

### –ü—Ä–æ–±–ª–µ–º–∞: i18n.js –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ—Ä—Å—ñ—é –≤ `index.html`: `?v=10.0.0-...`
2. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à: `.\purge-cloudflare-cache.ps1`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `_headers` - –º–∞—î –±—É—Ç–∏ `max-age=3600` –¥–ª—è `i18n.js`

### –ü—Ä–æ–±–ª–µ–º–∞: HTML –≤—Å–µ —â–µ —Å—Ç–∞—Ä–∏–π

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `_headers` - –º–∞—î –±—É—Ç–∏ `no-cache, no-store` –¥–ª—è `/` —Ç–∞ `/*.html`
2. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à: `.\purge-cloudflare-cache.ps1`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Cloudflare Dashboard ‚Üí Caching ‚Üí Purge Everything

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
public/
  ‚îú‚îÄ‚îÄ _headers      # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–µ—à—É–≤–∞–Ω–Ω—è
  ‚îú‚îÄ‚îÄ _redirects   # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è
  ‚îî‚îÄ‚îÄ static/
      ‚îî‚îÄ‚îÄ i18n.js   # –§–∞–π–ª –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ (–∫–µ—à 1 –≥–æ–¥–∏–Ω–∞)
```

## üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Cloudflare Pages Headers](https://developers.cloudflare.com/pages/platform/headers/)
- [Cloudflare Pages Redirects](https://developers.cloudflare.com/pages/platform/redirects/)
- [Cloudflare Cache API](https://developers.cloudflare.com/api/operations/zone-purge-purge-files-by-cache-tags,-host-or-prefix)
